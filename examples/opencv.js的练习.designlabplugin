{
  "poster": "data:image/png;base64,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",
  "knowledge": {
    "readme": "## opencv.js的练习\n\n\n### 基本的入门",
    "course": "- 读取图像\n```\ncv.imread\n```\n\n\n- 处理结果导出，通过canvas来做opencv处理的载体\n```\ncv.imshow(canvas,dst);\n```\n\n\n- 转成base64处理成p5.Image类型\n```\ncanvas.toDataURL();\n loadImage\n```\n\n- 了解轮廓是什么，学习寻找轮廓，绘制轮廓等\n```\ncv.findContours();\n cv.drawContours()\n```\n- 查找轮廓的不同特征，例如面积，周长，质心，边界框等\n- 比较轮廓，返回相似度的度量，结果越低，匹配越好\n```\ncv.matchShapes（）\n```"
  },
  "code": "//Hello Opencv.js!\n\nvar myImage = null,\n    drawImage = null;\n\nvar imGroup = Lab.base.createGroup();\nvar newGroup = Lab.base.createGroup();\nvar targetIm = null;\nvar newIm = null;\n\nvar infoText = null;\n\n// function gui() {\n//     var myCanvas = Lab.base.createCanvas(200, 200, 'opencv', '', false);\n//     // var ctx = myCanvas.getContext('2d');\n//     // ctx.fillStyle = 'blue';\n//     // ctx.fillRect(0, 0, 100, 100);\n\n//     //创建图片输入\n//     //图片超大\n//     let input = Lab.base.createInput('img', '图片', async (url) => {\n//         //HTMLElment\n//         var uploadImg = await Lab.base.createImage(url);\n\n//         //cv读取图像,支持HTMLElement,不支持p5.Image\n//         var src = cv.imread(uploadImg);\n//         var dst = new cv.Mat();\n\n//         //调整色彩模式\n//         cv.cvtColor(src, dst, cv.COLOR_RGBA2GRAY, 0);\n//         //cv显示图像,并把dst写入画布中\n//         cv.imshow(myCanvas, dst);\n\n//         //把canvas的数据加载成为p5.Image类型\n//         //创建图片\n//         myImage = await Lab.base.createImage(myCanvas.toDataURL());\n\n//         drawImage = myImage;\n\n//         // 绘制\n//         draw();\n//     }, false);\n// };\n\nfunction gui() {\n    var myCanvas = Lab.base.createCanvas(200, 200, 'opencv', '', false);\n    // var ctx = myCanvas.getContext('2d');\n    // ctx.fillStyle = 'blue';\n    // ctx.fillRect(0, 0, 100, 100);\n\n\n\n    //创建图片输入\n    //图片超大\n    let input = Lab.base.createInput('img', '图片', async (url) => {\n        //HTMLElment\n        var uploadImg = await Lab.base.createImage(url);\n\n        //cv读取图像,支持HTMLElement,不支持p5.Image\n        var src = cv.imread(uploadImg);\n        var dst = new cv.Mat();\n\n        //调整色彩模式\n        cv.cvtColor(src, dst, cv.COLOR_RGBA2GRAY, 0);\n        //cv显示图像,并把dst写入画布中\n        cv.imshow(myCanvas, dst);\n\n        //把canvas的数据加载成为p5.Image类型\n        //创建图片\n        myImage = await Lab.base.createImage(myCanvas.toDataURL());\n\n        drawImage = myImage;\n\n        // 绘制\n        draw();\n    }, false);\n\n    // 自动监听剪切板\n    Lab.base.clipboard.listener('img', async url => {\n        // console.log(url)\n        myImage = await Lab.base.createImage(url);\n        //drawImage = myImage;\n        input.setPlaceholder(url);\n        let score = await autoMatch();\n        // console.log(input)\n        if (score) infoText = score;\n        draw();\n    });\n\n    Lab.base.createIcon('plus', async () => {\n        if (myImage) {\n            let res = await imgProcess(myImage);\n            let store = new Store(\"targetShape\");\n            let data = Object.assign(res.data, {\n                imgurl: myImage.src,\n                createDate: (new Date()).getTime()\n            });\n            store.set(Lab.base.hash(data), data);\n            if (targetIm) targetIm.remove();\n            targetIm = res.img;\n            imGroup.appendChild(targetIm);\n            Lab.base.toast('done');\n            setTimeout(()=>window.location.reload(),1000);\n        }\n    });\n\n    Lab.base.createIcon('play', async () => {\n        if (myImage) {\n            let res = await imgProcess(myImage);\n            drawImage = res.img;\n            infoText = `${JSON.stringify(res.data, null, 2)}`;\n            //绘制\n            draw();\n            //Lab.base.toast('done')\n        }\n    });\n\n    if (targetIm == null) {\n        let store = new Store(\"targetShape\");\n        store.getValues().then(async vs => {\n            vs = vs.sort((b,a) => a.createDate - b.createDate);\n            //创建图片\n            targetIm = await Lab.base.createImage(vs[0].imgurl);\n            let res = await imgProcess(targetIm);\n            targetIm = res.img;\n            imGroup.appendChild(targetIm);\n        })\n    }\n\n    Lab.base.add(imGroup);\n    imGroup.appendChild(newGroup);\n};\n\n\n// p5.js部分\nfunction setup() {\n    // frameRate(3);\n    noLoop();\n    createCanvas(windowWidth, 280);\n    noFill();\n}\n\nfunction draw() {\n    clear();\n    background('black');\n    let fontSize = 10;\n    if (drawImage) {\n        let im = Lab.ai.p5Image(drawImage);\n        let w = width;\n        let h = w * im.height / im.width;\n\n        if (h > height) {\n            h = height;\n            w = h * im.width / im.height;\n        }\n        image(im, (width - w) / 2, (height - h) / 2, w, h);\n\n        fill('white');\n        stroke('black');\n        textAlign(LEFT, TOP);\n        textSize(fontSize);\n        text(infoText || 'Hello opencv.js', fontSize, fontSize * 3);\n        textSize(fontSize);\n        text('by shadow', fontSize, fontSize * 2);\n    };\n}\n\n// 图像形状匹配\nasync function autoMatch() {\n    if (myImage) {\n        let store = new Store(\"targetShape\");\n        let vs = await store.getValues();\n        vs = vs.sort((b, a) => a.createDate - b.createDate);\n        let value = vs[0];\n        // console.log('score', value);\n        let targetImg = await Lab.base.createImage(value.imgurl);\n        let score = matchShape(myImage, targetImg);\n        drawImage = (await imgProcess(myImage)).img;\n        newIm = myImage;\n        newIm.style.width = '44px';\n        newIm.score = score;\n        newGroup.appendChild(newIm);\n        let cs = Array.from(newGroup.children, c => c);\n        newGroup.innerHTML = \"\";\n        for (let c of cs.sort((b, a) => b.score - a.score)) {\n            newGroup.appendChild(c);\n        }\n        return score\n    }\n}\n\n\n// 图像处理\n/**\n * img ImageElement或CanvasElement\n * 返回 ImageElement\n */\nasync function imgProcess(img) {\n    // 初始化\n    let { src, dst, canvas } = initProcess(img);\n\n    // 缩放为固定宽度\n    // let w = 100;\n    // src = resize(src, w, w * canvas.height / canvas.width);\n    // dst = resize(dst, w, w * canvas.height / canvas.width);\n\n    // 灰度\n    src = rgb2gray(src);\n\n    // canny边缘检测\n    // cv.Canny(src, dst, 50, 100, 3, false);\n\n    // 阈值分割\n    // cv.threshold(src, dst, 10, 160, cv.THRESH_BINARY);\n\n    // 轮廓\n    var { dst: _dst, centers, areas, perimeters, angles } = findContoursAndQual(src, dst);\n    // console.log(centers, areas)\n\n    // 结果\n    let resIm = await finish(src, _dst, canvas);\n\n    return {\n        img: resIm,\n        data: {\n            centers: Array.from(centers, a => { return { x: 1 - Math.abs(1 - 2 * a.x / canvas.width), y: 1 - Math.abs(1 - 2 * a.y / canvas.height) } }),\n            areas: Array.from(areas, a => a / (canvas.width * canvas.height)),\n            perimeters: Array.from(perimeters, a => 0.5 * a / (canvas.width + canvas.height)),\n            ratio: canvas.width / canvas.height,\n            angles: Array.from(angles, a => a / 90)\n        }\n    };\n}\n\n// 初始化\nfunction initProcess(img) {\n    //创建画布\n    let canvas = Lab.base.createCanvas(img.naturalWidth || img.width, img.naturalHeight || img.height, 'myCanvas', '', false);\n    let src = cv.imread(img);\n    // 空的\n    // let dst = new cv.Mat();\n    // 黑图\n    let dst = cv.Mat.zeros(src.rows, src.cols, cv.CV_8UC3);\n    // let dst=cv.imread(img);\n    return {\n        src, dst, canvas\n    }\n};\n// 完成\nasync function finish(src, dst, canvas) {\n    // console.log(canvas, src)\n    cv.imshow(canvas, dst);\n\n    let url = canvas.toDataURL();\n    src.delete();\n    dst.delete();\n    canvas.remove();\n    return await Lab.base.createImage(url);\n}\n\n// 缩放\nfunction resize(src, w = 100, h = 100) {\n    // 缩放为100x100方形\n    let rdst = new cv.Mat();\n    let dsize = new cv.Size(w, h);\n    // You can try more different parameters\n    cv.resize(src, rdst, dsize, 0, 0, cv.INTER_AREA);\n    return rdst\n}\n\n//灰度\nfunction rgb2gray(src) {\n    cv.cvtColor(src, src, cv.COLOR_RGB2GRAY, 0);\n    return src\n}\n\n//转为RGB\nfunction gray2rgb(src) {\n    cv.cvtColor(src, src, cv.COLOR_GRAY2RGB, 0);\n    return src\n}\n\n\n// 寻找轮廓\nfunction findContours(src) {\n    // 轮廓\n    let contours = new cv.MatVector();\n\n    // 层级 [Next, Previous, First_Child, Parent]\n    let hierarchy = new cv.Mat();\n\n    // 模式\n    let mode = cv.RETR_EXTERNAL;\n    // cv.RETR_TREE 取回所有的轮廓并且创建完整的家族层级列表\n    // cv.RETR_CCOMP 获取所有轮廓并且把他们组织到一个2层结构里\n    // cv.RETR_EXTERNAL 返回最外层的,所有孩子轮廓都不要\n    // cv.RETR_LIST 获取所有轮廓，但是不建立父子关系\n\n    let method = cv.CHAIN_APPROX_SIMPLE;\n    // CHAIN_APPROX_NONE：获取每个轮廓的每个像素，相邻的两个点的像素位置差不超过1\n    // CHAIN_APPROX_SIMPLE：压缩水平方向，垂直方向，对角线方向的元素，值保留该方向的重点坐标，如果一个矩形轮廓只需4个点来保存轮廓信息\n    // CHAIN_APPROX_TC89_L1和CHAIN_APPROX_TC89_KCOS使用Teh-Chinl链逼近算法中的一种\n    /**\n     * 如果传递cv.CHAIN_APPROX_NONE，则将存储所有边界点。但是实际上我们需要所有这些要点吗？\n     * 例如，您找到了一条直线的轮廓。您是否需要线上的所有点代表该线？\n     * 不，我们只需要该线的两个端点即可。\n     * 这就是cv.CHAIN_APPROX_SIMPLE所做的。\n     * 它删除所有冗余点并压缩轮廓，从而节省内存。\n     */\n    cv.findContours(src, contours, hierarchy, mode, method);\n\n    return { contours, hierarchy };\n}\n\n// 轮廓&量化\nfunction findContoursAndQual(src, dst) {\n    // 质心\n    let centers = [];\n    // 面积\n    let areas = [];\n    //周长\n    let perimeters = [];\n    //角度\n    let angles = [];\n\n    // 近似轮廓\n    let poly = new cv.MatVector();\n\n    // 凸包\n    let hull = new cv.MatVector();\n\n    // 轮廓\n    let { contours, hierarchy } = findContours(src);\n\n    // console.log(contours.size())\n    for (let i = 0; i < contours.size(); i++) {\n\n        // rgb\n        let color = new cv.Scalar(255, 0, 0);\n        // The first way\n        // let scalar = new cv.Scalar(R, G, B, Alpha);\n        // The second way\n        // let scalar = [R, G, B, Alpha];\n\n        // console.log(color)\n        cv.drawContours(dst, contours, i, color, 8, cv.LINE_8, hierarchy, 100);\n\n        let cnt = contours.get(i);\n        // console.log(cnt)\n        let Moments = cv.moments(cnt, false);\n        let point = {\n            x: parseInt(Moments.m10 / Moments.m00),\n            y: parseInt(Moments.m01 / Moments.m00)\n        };\n        centers.push(point);\n        cv.circle(dst, point, 8, color, -1);\n\n        // 面积\n        let area = cv.contourArea(cnt, false);\n        areas.push(area);\n\n        //周长\n        let perimeter = cv.arcLength(cnt, true);\n        perimeters.push(perimeter);\n\n        // 近似轮廓\n        let tmp = new cv.Mat();\n        cv.approxPolyDP(cnt, tmp, 12, true);\n        poly.push_back(tmp);\n\n        // 凸包\n        let tmp2 = new cv.Mat();\n        cv.convexHull(cnt, tmp2, false, true);\n        hull.push_back(tmp2);\n\n        // 最小面积矩形  \n        let rotatedRect = cv.minAreaRect(cnt);\n        // console.log(rotatedRect);\n        angles.push(rotatedRect.angle);\n        let vertices = cv.RotatedRect.points(rotatedRect);\n        let rectangleColor = new cv.Scalar(255, 255, 0);\n        // draw rotatedRect\n        for (let i = 0; i < 4; i++) {\n            cv.line(dst, vertices[i], vertices[(i + 1) % 4], rectangleColor, 2, cv.LINE_AA, 0);\n        }\n\n        cnt.delete();\n        tmp.delete();\n        tmp2.delete();\n    };\n\n    // 近似轮廓，凸包\n    for (let i = 0; i < contours.size(); ++i) {\n        // rgb\n        let color = new cv.Scalar(0, 0, 255),\n            colorHull = [0, 255, 0, 255];\n        cv.drawContours(dst, poly, i, color, 4, cv.LINE_8, hierarchy, 100);\n        cv.drawContours(dst, hull, i, colorHull, 4, cv.LINE_8, hierarchy, 100);\n    }\n\n    // values = values.sort((b, a) => a.area - b.area)\n    //src.delete();\n    contours.delete();\n    hierarchy.delete();\n\n    return { dst, centers, areas, perimeters, angles }\n}\n\n//  比较两个轮廓\nfunction matchShape(img1, img2) {\n    // 初始化\n    let { src: src1 } = initProcess(img1);\n    // 灰度\n    src1 = rgb2gray(src1);\n    // 轮廓\n    let { contours: c1 } = findContours(src1);\n    \n    // 使用凸包来匹配计算\n    // 凸包\n    // let tmp1 = new cv.Mat();\n    // cv.convexHull(c1.get(0), tmp1, false, true);\n    // console.log(contoursSave(c1))\n    \n    // 初始化\n    let { src: src2 } = initProcess(img2);\n    // 灰度\n    src2 = rgb2gray(src2);\n    // 轮廓\n    let { contours: c2 } = findContours(src2);\n    // 使用凸包来匹配计算\n    // 凸包\n    // let tmp2 = new cv.Mat();\n    // cv.convexHull(c2.get(0), tmp2, false, true);\n \n    let result = cv.matchShapes(c1.get(0),c2.get(0), 1, 0);\n\n    src1.delete();\n    src2.delete();\n    c1.delete();\n    c2.delete();\n    // tmp1.delete();\n    // tmp2.delete();\n\n    return result;\n}\n\n\n\n\n\n\n",
  "code_length": 119,
  "size": [
    354,
    703
  ],
  "extname": "designlabplugin",
  "version": "0.1.0",
  "package_id": "06241f709c5ea14f71e2c1f43d1915ca08613e3a",
  "create_time": 1613815821971
}