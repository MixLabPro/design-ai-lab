{
  "poster": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAADSCAYAAACB4wRaAAAgAElEQVR4nO2deZBcVfn3P3fpfXp6uiczCVlICIaYQDYCSYAiL4gYgq+AIqKWhSUK1msKeJUlvKIUv6L4YZUaxQWtcgWtei0oF3gtxKAookCCyQSzzBAmk40wmX2me3q92/tH59zc7ume6Vkz6bnfqqmZ6b73PPee73nOec55nuccybIsCxdVC/lMP4CLyYVLcJXDJbjK4RJc5XAJrnK4BFc5XIKrHC7BVQ6X4CqHS3CVwyW4yuESXOVwCa5yuARXOVyCqxzqcF9aloUkSbgu4zMLwYEkSaO/13X4VzdcDT4LMB4NHpZggVwuRyqVQpbdIXsqYVkWNTU1qGpFNJVERRpsmiaGYbiaPMWwLMuu80nRYFGgJEn2j4uphZODsWDUul88LjvHh1KtrNz1pe4t933x3+L/Sp9xOBTLEPcPd02p5x/NOztljGd8rQSjJrj4gUzTtLtx5+9SLwlgGAaKomCaJjC0MsXnoixxrfjc+d1wKFe5sixjGEbBdc53Kb5OluWCd7Isy7ZFnO8gejhnt+ok0/m3KMMpb7JIHhXBTjIsy8I0TXw+H5Zloaoquq6jqiqGYdi/ZVkml8vZY3goFCKdThMIBNA0zb5OlOn1ejEMw67UTCaDqqp4vV7gNLkejwdN0/IvccoIMQyjoKIlSbI/A9A0jVwuRzAYLKhgy7IwDAOPx4NlWQXXaZpGIBAoIDuXywEQCASwLAtFUchms+i6jiRJBAIBdF0nl8sVNBZRT36/n0wmg9/vR9O0gmecaKJHRbCosFAoxL59+2hrayMYDBIKhYhEItTX19PZ2UksFqO7u5va2loGBgZYvnw5TU1NRCIRAoEAJ06cIJPJcMUVV3Dw4EEWLVrECy+8wNKlS/H7/SiKQiAQwOPx0NLSwuDgILqus2LFCjRNo6amhvfee4/GxkZkWaa7uxuAWCxGOp3GMAwCgQDHjh3j3HPPRZIkdF1n1qxZvPnmmyxZsoTBwUH8fj8+n49kMsn+/ftZvXo1Xq8XWZZpa2sjFovxzjvvsGLFClRVZXBwkFmzZnH48GGWLFnC8ePHMU2TVCrFokWLiEQiGIbBgQMHmDt3Lvv372fNmjWoqko2m+Xvf/871157LYcOHaK3t5f+/n6uuuoqu7E7iT4jBIvWmkgkOHLkCAsXLmT37t0Eg0F27NjB4sWL2bt3Lxs3bmRgYIBVq1bx85//nM9//vNomkY6neb73/8+11xzDYcPH6a7u5t//OMfrF69mr6+Po4cOUIsFuPIkSMkk0k2bdpENBolk8lw7NgxmpubiUajdHZ2snTpUg4cOEBPTw9dXV3ouk4ymaSxsZFIJEIwGMQwDHRdZ8+ePQBcfvnl1NXVsX37doLBIMlkklQqZfcEL730EmvWrGHp0qXU1NSwfft2MpkML774IqtXr+bgwYNceeWVSJJELpdjx44d+Hx+kslBli5disfjIRKJ8PTTT3PTTTcxODhIfX09b731FmvXrkXTNPbt28dPf/pTLr74Yrq6ushms6xYsQK/308sFptwkoddyRLdRSaTIZlMIkkSiqIwMDBAPB5n/vz57Nixg/nz59Pe3s4555xDV1cXdXV1DA4OMnfuXNra2pg1axaRSASA1tZWGhoa7C4tmUxSV1dHf38/kUgEXddtEuvr65k1axYnTpwgnU5TX19Pb28vNTU15HI5QqEQbW1t1NXV4fP5SKfTeL1efD4fuq5TW1tLb2+v3TX6fD4WLlxIS0sLwWCQbDZrk6VpWkHPce6559LU1GR326KsxsZGOjo6aGxsZMeOHYRCIZYtW4ZpmixatIhEIsH+/ftpbGykp6eHBQsWMHv2bNLpNHv37mX27Nl0d3fj9XrtZ+zv72fhwoWcc845aJpmj/FCrqqqk7NUWUywLMu2gaAoCrquDxlLFUWxxytN0+zKFuOs+F+MlWJcc46JpmmiqqrdbXk8ngKjxzk3FGO2c84uIIw0AaHRPp/PHuPh9DRQXGNZFrqu4/f7C+4V7yYMv4GBAYLBIF6vF9M0bXL8fj+6rqMoCpqm2e/r9/vt+502gqIo5HI5+zpn/U8pwU4DxlmJ5axAp1VdbHUXyyh3v7hmpGes6GUrKM95XblnFRCNWpQnGp+zTmRZtv8uNcMobmTFFvd4CR61keX8DRRoSCkUfz/S9cPJnShUWt5Izyp6JecSrhjGSsms5N2n1MhytjTn/M5FISarXqZ0qVJRFNfZMMUo7sLHgorGYFdzzyxch7+LsnAd/mcBXA12URZjDxVg7NbjaFriaGSU8l7NdIxJg4u9Sk53WbnrS10zkk93NDLEClaxpT/TiR41wcX+09FOncTSXHFZ5WQ4r68EzpUzV5vH4E1yLrspikJ7ezsvvPACBw4cIJVKlbwvEAjw/ve/n82bN7NgwYIhJJRbuhQy3nvvPV544QWam5tLylAUhQULFnD11Vezbt26IeXMZIxJg0XFb9++nSeeeIK+vj68Xm/JLlR0r7lcjtraWrZs2cJHPvIR23FQToOFjBdffJHvf//7tgxxj67ryLJsOyk0TUOSJDZv3sy9996Lx+MBTq8Pz1QtHhXBzop/7bXX2Lp1K4FAwPamiGs0TbM9PaJihXcpkUjw6KOPcs0115Qk2Snjn//8Jw8++KDtsRFl67pOOBy2nfs+n88uo6urixtvvJGHHnpoiKNjJmJUBDvDaO68805OnDhhh7MIz1Eul+NLX/oSfr+f73znO7arT3hWcrkcsViMn/3sZ9TU1BTEODllpNNp7rjjDk6ePInf78c0TSzLwu/3c/XVV3PJJZfQ09PDs88+S09Pj32foij09/fzzW9+k8suu2zYnmImYFQWkujq9uzZw9GjRwtildLpNMuWLeOpp57iox/9KNdffz1PP/00a9assYPmRQzXe++9x86dO0uOkULG7t27OXbsmO1DlSSJZDLJNddcw7Jly9i5cyeJRILPfvazQyxuSZLYvn37xNTQWY5RG1mWZXHo0CHbVSZIUhSFnp4e5s6dy8MPP8zg4CDf/e536e7uLnBwO8v4wAc+UJJgy7Joa2sriDoUGnjixAkAstksx48fp6enp8DSFgF5Il5qpo/BY1roKA5ZFZEJ9fX1qKrKtddeSzabRZZlGhoaOHjwIH6/f0iggLi3EhmCJEVR7MA85zSomMTikNSZilF10UKTFixYUBA3ZFkWHo+HkydP8q1vfYu1a9dy9dVXs+3b3+b48eO2geRcrFiwYEHJyhffz58/vyCyQVyrqiqhUIj+/n4Mw7DjuJxuNV3XmTNnjh3mM1O1F8YQ0WFZFhdffDGNjY3E43E8Ho8dQ9XX18ezzz7LwYMHUVWVXbt2EYlE7MA1UfnRaJR169YNMbCcMi655BIaGhpIJpOoqoppmgQCAfbt20cgEAAgnU7z2muvFTQEESt21VVX2Z/NZIx5mvT888/z2GOPUV9fXxB7pSgKqVTKDnIXMUtiLOzu7ubee+/l1ltvHXGa9Ic//IHHH3/clmFZ+QD1dDpt/+/xePD5fEB+waO7u5sNGzbwzW9+0248MzlQYdQaLLq9G264gd7eXn7xi1/Y1rGY64pMg0wmY5OfzWYBuP3228uSWyzjpptuore3l1/+8pdYlmXLCAaD9vVibqxpGtlslrVr1/K1r33NHqNnupE1ag12WsKyLNPU1MRzzz1Ha2srmUym5H0+n4/Fixdzww03cOmll1a8VClk7N69m+eee45Dhw6VlCHLMrNnz+aqq67ixhtvtLv0mU4ujMPZ4CQA8tMWEUhefL3X67VjjIcjdywyxLgbCoXsz5zkwsx2NkyYu3Akj49YiSoOMa1UBgw/loqx2xmHPJKMmYAxR3SM1zqtpOLHI2OmEyvghuxUOWbu/GGGwCW4yuESXOVwCa5yuARXOVyCqxwuwVUOl+Aqh0twlcMluMrhElzlGFd24VhQHCg3lZiJXqYJ8yYJt6FdcImMgplSqdMJY3L4w2ltKN5srPjachmIItS2eC+qyYAIIBD7TQn5MwFj6qKdXZ3Yze3YsWMFmX91dXUsWLDA3hVOaLQzXjmZTNpJY5MJEZBQV1fnEjwcilMyLcvimWee4Y9//CMdHR3oum5f6/P5WLRoEZ/61KfYuHFjySA7QfpUVLYzbnomYdRdtNBATdN49NFH+ctf/kIoFLJTO0VxIpIyl8vxhS98gc997nNDtvhLJBLDanCxtpUL0BsJQoMjkciM0+BRJ58Jcn7+85+zfft2Ghoa7LhksS2vqPhgMEgkEuEnP/kJr7zySsHu6cXlit9id3chq9yPuEYcGFJ8n7PcmYwx7Rfd3t7O888/TywWs7tly7KIRCL09PQM2R3W5/Px61//miuuuKIgEU3AGWEpdpAX2RKCOGckpkgwE2O6KFM8i67rMz5cVmBMW/o3NTWRSCTsHc5lWSYej3P33XfT0dHBU089RSAQsAnw+/0cOXKEo0ePcv7555dMLFNVla6uLnbu3ImqqixatIju7m48Hg/z589HURReeeUV1q1bRywWo6Wlhb1797J27Vra29vp7OxkxYoVzJ49m1gsZudDzXSSx5Q+2tnZWTCWCSLD4TAf+tCH+N3vfkc2m0VRFPv7XC5Hd3c3ixcvLpsTHI/H+c9//mPv1v7qq68SiURYuHAhiqLQ0dHB66+/TjQaZd++ffh8Pnp7e9m5cyfpdJrFixfT3NzMunXrhuwJPVMxpmmSSP4SEDlChw4d4vnnnycejxMKhQo0VeymXs5qlmWZbDbLqlWrCAaDdipqbW0t0WgURVFIp9OEw2F8Ph+KotDX10cqlcI0TTZs2EAsFrNTZ1ztzWNUVrRItN67dy933XUXwWCwYF4rdnYX46ioYMMwCIfD/OIXvyAcDg+xoiG/uXZ7ezu1tbX2WDowMEBfXx/RaBSARCKBz+cjEomQyWRIp9OEQiFqa2tpaWmhvr6eefPm2ZuzOKd1M9WKHpUGCyt4+fLlrFq1it27d9v5uWIcFemkogJFWulHP/pRamtr7THbCdE45s6dW5DPG41GOf/88wuOpBFWs3OHHcMwuOKKKzAMw94AxtXgPMaUPiqOnbnnnnuIx+OEw+GhBZ8al/v6+li5ciXbtm0r6NqLNbjcfh0lH7qE06B4Rx2nZT6TNXhMzgZB8sGDB/n2t7/NgQMHSp5v4PV6ufLKK/nyl79MNBodchDGSAsdEwWX4Arh7PacJ6W88cYb7Nu3j8HBQfv7+vp6Lr74Yi666KIh1wP21EqcDjaZEASLRibkzwSMy5tUyV6VpfaOFPdnMpmCcwQnE2JlzdXgClB8S7mDIl2f8JnHlGcXuhEdUws3fbTKMTMsjRkMl+Aqh0twlcMluMrhElzlcAmucrgEVzlcgqscLsFVDpfgKodLcJXDJbjK4RJc5XAJrnK4BFc5XIKrHC7BVY6KAt9H2o+jFNyTuKcHRiS4OIoSKg85dWb1z7RYqOmCYQkuFQcNcPz4cY4ePTokpllcH41GueCCC+ww1eKtH1xMHYYluHgnnaNHj/LjH/+YpqYm+3QzJ5znBM+ZM4ebb76ZW265ZchBka4WTx3KRlU699pQFIXm5mbuv/9++vv7CYfDBcfGSZKEpmlkMhm8Xi+qqpLNZkkkEtx8883cf//9NrEuuVOLYQdToY2pVIrHH3+cRCJBXV0dgJ3xl0wm6enpQZZlLr/sMubNm0c2m8Xr9dLQ0MBvf/tbnn/+eTttxe2mpxZlu2hnaspf//pXWltb7T05hCZmMhlWrFjBJz7xCVatWkVNTQ3f+973ePvtt/H5fBiGQU1NDc8++yybNm0akjfsYvJRlmDnTjW7du2yc3Od2YHZbJbNmzczb948fvCDH1BXV2ePw+LH6/XS3t7O4cOHWbZsWdk0FxeTg7JdtHPM7O/vL5gaie+SqRTd3d089thjPPXUU2iaVnBWsPjRNI3+/v6K5s8uJhZlCXYeDllTU1OgeYK0TR/6EOvXryebzfLFL36Ru+66i87OTnuPDPGjqio1NTWukXUGUNE8eMWKFbz88svIsmyPwZqmsWnTJizLore3l1dffZXW1lYOHz5MKBSy79V1nVmzZnHeeee54+8ZwLDJZ2LM7e/v5/Of/zwDAwP4/X7bGhYLHUJjc7kcfr+/YH+Ozs5OtmzZwm233Vb2UGgXk4cRx2DTNIlGo9x3332YpkkqlUKWZVRVJRgMEggE8Hg8eL1ewuEwqqrahlZnZycbN27kk5/85JA9NFxMDUZMH3WuZO3atYsnn3yS1tbWgp1lhxQqSYTDYTZv3sydd95pT4/cE7mnHsMS7FxDFiQbhsGePXtoa2sreeI3QCwWY+XKlcybN29IOS65U4uKNLiUw6ESlNqfwyV4alFRhn+5PTmG28fK3Z9jesDdwqHK4YbsVDlcgqscLsFVDpfgKodLcJXDJbjK4RJc5XAJrnK4BFc5XIKrHC7BVQ6X4CrHlB/xPhwm0+9RypM11fLOBEYMuptMFCeuic9E1sREQByvVxxs4AxCmKhzIyRJsg/KnC7BDcPmJpU7t3c8GKncyaiYcmVOpawzhRGTz+B0Gos4VWys8Hg8dgsX5TrliYiRN954g9dffx0of+DHcBDlNjQ08JnPfKYgG8MpT/z+1a9+RXd3d8Hno4GIFL388stZt26d/R7TgegRY7Ign2g2ODhYkAY6GjgJDYVCQ7IfAPuIOo/Hw5YtW3jyySfH9EJO1NXV0d7ebof6OsONxP+pVIpzzjmHeDw+bnl33303TzzxBJqmoSjKtDibadjcJBEJmclk7MOlxtIFOUNw0+m0fbizE87YLb/fj6IoKJKCPobxUZIkkCzq6+vRNA2fz1dSnmXlD5WOxWIkk8kxJ6mLYES/3z/t0mSHJdgZUelMZRktio/SEQ2n1HF4TsNHDkrIsgWWBVRSYfnrJAm0QaMgE7LUc4vvxKmpYyVY1NF03Mlg2PRR8Vs8tOhyxtI6nemo5UJoT8vM/x9dFiAwT8XUTjWEEcRa5intkSWOvtgHJhW1i/Fq23QOLqx4HjwRD+0so5KWLsgSv0eE7DhtTTrVI4z3oc9yTKuFDgHBuzNDkQp6vYIGY4lGNDnPeLZgWhIsFN0ZX11u7pz/H0Rf7NRgZ1nlMJ3Gy8nAtCS4PISx5jwY2knyeCBRmSE38r3Tqc2cRQRbWJaELEMuZ5DL5adPgYCKosiY5umFi9HYC3njL3eq/LExY5j6KdliUWb6MDztCT5d6fnpTzqts3BhhAsvmk0mC2/uPEYykcbv92CYVl69R1G/upFm+fu/y5xZjaiqDuQzILMZK19eXjJIFrKcn+8qsoLqMVFV+dQOBjL9/WnqapP56yVlYithHJjWBNu7BBgGiiSTzZlcsb6RL925lNp6D75AkP0ti3nsG69z8mQ/Ia+KBFhUZpTlZRhEatciW0vwqBamKaGo8IU7DRrnyFimdKo8iWQyRTgcJJ1JsP1PId7cIRMIgiyDTBaP55/AWTpNKofiyf1EponmFyFMasJedN3Co8p85qYFeCyNI606nYO1XHiBxv/+yAUc/k+cdt3kT3taCXjViofTvPcqha5nkKQsui4R8lgsvkBD0y0uWl7D4SODnDPHT1PTuyy/6Hzeeutt5s1bwisp8PpkTFNCN9JYluiqK12YmXyMm+BiQifSm2KaFn6fzNceXEHWkvndb9oIqBKZpIlfkXmn9QTqwQQNRzKc2xilRZL4yz4FyxzdGChJ8qluNe9aNACPliLksUilVTyKFywf8+fWkc1I1McayGZlZCVvXIn7Szk1zjTGvBru9MaIpTqxXOf8bjzIZA0uXVPPBecFuWCxny/+r+UYpoRkQSgIN10pUXdSp6/foC2epLWjH5mxmzinp2cyZk4jFc+CJKHrBhYW2ayBYcJAfwZZzlvL04jLkhgzwc515Wg0yt/+9jeeeeYZotEoMHGafN6CEIZpkR7QCKsGHm/eYtbTJtkk+C8OMe+WBg7N8fHMm0fRNB1ZHp2hNQSmiRXyEJgdQDYzBP2DyLKE5Mnh80rE5slYp0b76Y4xd9FibTqVSnHo0CEOHTpET08Pra2t+P1+amtrhzgTKi/79N8eRcbKmpAxyKVzWJoFsoTkyS9fhs71Yclwy8oGLriokW/89z/z+4fIkJ/6jO3dvIoPVbJQVBWPN4QkgdfjxcJCkXzTZIQdGePqolVVpauri2984xs0NTVx5MgRHn30Udra2vD5fGPettDuKhWJRFonlzPRADOgYAQUDAV0j4Tpl9E9MqZfoTeRYNVaDx//9HJypnVqLXpsXaiqKvT0D9DRHUfGJDPYh8/nZd6cBnQdrIyEaU6vyI1yGLMGy7JMLpdj3rx5/OQnP+HHP/4xJ0+e5JFHHqG3t5d0Oo2ijG0+KLQu252j+V/93L5uDrWGhSegQEjOOx7UUw4IGVBCICl4Egn+56oY/zeuggaSLI9Jgw3DIFJbhy8gYUkqnkA9hmGSToPHI1EbiThmDmfeqT8cxmVFixacy+VYsmQJjY2NQ3aBHwsEKbn3DP72q3fJXbWAiy/wk4wb+EKAT0bySUj+AJKRw9Jz+YAEL4RTPnp3pcEESRndsqG4VpYV0oMdJOI6dbUNxLtPgCLzj7//gw9ccz37DrQgScuA6b9z0LjGYBFFmEwm2bBhA7Isk0wmbb/xWF9e3OLxymRyOvc8sZ8/fe9ifH6Z5KCOnJWRfRKyNoiknIrMAMKxGl74WyfJbCov36xsjfq05Z+fv5qGTjA8B92wkCQVU56H3xdi5cr/ga6ZLJh3Af/ZLQ25//SsYfrMg8dlRcNpYyuXy5HJZOzNzpzXjBX5CoZXm/q54ctNNB8eJFLrIVyjElJlfJaE15IIeBTCUR//eLGP//PfOwq8UZXBBAzAwLJ0ZEUil3qPGl8XijeBbh0hGoVZDRp1UYNU9iiypGOZun1f/odTdTKu155QTNhS5aR0U5ZlG0ov/7uPS2/bwQ0bG7hxYyMrltQQrFHxqBIDSZ1f/+kk3336KJpuIkunlhcrEmGhqrV41ACqGkBRwDDg2d8tIRwGLQeqp4H/9xwocj2GCR7PKg7shUgdKEr+R1UDyLJn8upijJiQlSzn7+K/J6JsKz8zIqtZPPvXTp79ayeKBH6PhEeVSaQMW38kCcxRqJAi+2ht+zon2zUUBcQy9mtvWBjmKd+FsMZP9byWCf6AhMeTX21TVYVUKstViXXAB055laaH8TWtnQ1OiNVHRc7Xs2FCMmfBKbehIuc/syxwro2PBFn2cLLjd7R39I3qeQYGh36WzswGcAkeD4yiqbVQrOLPK4XooiGe79rHGDarGway7M0/UzV10Wca47ZnJBBGlkXlY/fQZzAm4mkmHNOjHzmDkKbJdGayMOMJrna4BFc5KiZ4IsJLnWWUK+9sD2Odbs9fUW5S8d+jRbncpHL5QhONqWxM08mChjOcm1QqiN2ZcT/WzHtBnK7rI5IoMgyd940WzucdqxJMFio6VkfXdZLJ5Jgd+E4Mlx8s/m5paaGjo6OsllcKVVW55JJLbN90qfzgTCbDrl27hj1kZCSIxjtnzhyWLl0KUKAQZxIVZ/gbhkEulxuXMI/HY5+xJMotJQ/yLsjxaoLX6y27hFpsD4z33SRJwuv1DvnsTGNa7dHhfBTDMMZ1kKVwZQ4X6egMDhzvxi/FGf3TgVyocAuHSRM+JIlsYhvUcLHapeK5J0LeZCjFeDCtDuWY6gY1VbLOJKYVwS4mHmfezHMxqXAJrnK4BFc5XIKrHC7BVQ6X4CqHS3CVwyW4yuESXOVwCa5yuARXOVyCqxwVBb4X+yMqCUspjmYYybsyHWWU2th7uniJKsWI3iSnv1SE1VT6koZhFMRgiXLOJhki6GAi02KnEiMeqyNexjAMe0uGt99+m8OHDw/J5hfXx2Ixli9fTjQaHRKVWamMlpYWjhw5csZkBINBlixZwsKFCwEKYrqmizO/EgxLsKgw0zRRFIWWlhaefPJJ9u/fTzabLXhh5/WCgBtvvJHbbrutIGymuHKKZTQ3N/Pkk09y4MABstlsQXCek0hZlqmvr+emm24acrLKSDL279/Pj370Iw4cOGDHfjkjMSCvsYFAgA0bNrBlyxZmz549JHDvbMCIQXeiUpqamti6dSuZTIaamhokSSKVStnfi7imQCCAx+Mhl8sxMDDA5s2b+frXv26TVCqqQpSxa9cuHnzwQXK5HKFQyCZS13Wy2SyKotgHX1iWhaZpDAwM8OEPf5iHHnqoIhlvvvkmX/3qVwtkiAag6zqqerrNm6ZJPB5n/vz5bNu2jblz59rlnC1QHnnkkUfKfSlCPwcHB9m6dSvxeJxwOGwHxF133XUsX74cr9fL+eefz8aNG0kmk3R1deH1egmHw7z11lvU1dVx0UUXDRn7nPHW8XicrVu3kkwmqampsQ/JSKVS1NbWsnTpUkKhEB0dHfbzybJMOBxmz549xGIxLrzwwmFlDAwM8OCDD9oyxM58kA+xjcVi9gkzopxQKERnZyfHjh3j2muvHTaIbzqibH/jNEZeeukljh07RigUsoPJZVnm05/+NLfffjurV69m06ZN3HnnnVx44YVkMhk7njocDvP73/+edDo9JM7ZWZEvvfQS7777LsFgEF3X7U3WVq5cycc+9jGi0SgrV67k1ltvte8VWidkFO8RUizjz3/+MydOnLBliPfs6uqipqaG//qv/2JgYIBEImE3DE3TiEQi/Pvf/+att96yT4s5W1CWYKfRsmfPHlRVtStKURQGBwdpampi27Zt/PCHP+Thhx/m5ZdfprW11Q5stywLj8dDR0cHbW1tQ4yg4WQYhkE4HOayyy7j9ddf55133uFf//oXhmGwfsMGezcfIePkyZMcPnx4VDLEM1533XVcd9111NXV8fGPf5z169ejaVpBT2AYBk1NTdMuc2EkjEiwJEnE4/EhMeouJ1EAAAMlSURBVL+GYTAwMEB7ezter5dkMklPT4+tvc77dV0nHo8PqRznmClkFH+fSCRs7S9nQI0kQ9ybSCRKavj69etZu3YtHo+HjRs3snz5cvvMJWddDAwMjGoKNx0wbG6SGKPC4XBBt2QYBqFQiEsvvZQLL7yQn/70p7zvfe/j2muv5Z133qGlpYVAIGDfo6oqtbW1JQ0g8SNkCBIVRaGvr4/GxkY++MEP0tzczKxZs/B6vex44w1CoVDBM40kQ4zXThni2kceeYRly5axbds27rnnHgB7jHYaYZFIpHo02FkJa9asscdF8YKqqnL8+HFyuRyrV69m4cKFvPvuuwVbGEqShKZpzJ49m/POO6/s9EWSJFavXl0gwzRNQqEQBw8eZM+ePfT399Pc3MxvfvObAnKcMhYtWjQqGZBvAPX19eRyOZ566ilqa2sJh8ND5tWKorBmzZqzToOHnSaJl0wkEtxxxx10dXURDAbtNA/DMOwpjJg3ijEa8lrV2dnJV77yFW699daCVScBoSXxeJw77riD7u5uWwZgnykofgKBQMGzCRn33Xcft9xyy7Ay+vv7ueOOO+jr6yMQCNjvIXqrdDpNMBgsaBSqqtLX18ell17Kt771rZJTsemMYWft4sVra2vZunUrqqoSj8dtEn0+HzU1NcyaNYtYLIbP58Pr9SLLMoZh0NnZyXXXXcfNN99ccnnQWbmRSIQHHngARVFsK1aWZerq6mytEvNvWZbtAyE7Ozu5/vrr+djHPlbyWFenjGg0ygMPPGA3WvEesizj8Xioq6uz/xeNtLe3l7lz53Lvvffamn+2kAsVrkWPtMpUvEYryzLRaNReyRILIeUqaKRVpiEPfYrkUqtllcjYt28fP/rRj2hubh5WRjAYZP369WzZsoU5c+bYDehsInnE5DPnNMG5hnv48GGy2WzJFxWLDrFYrKCcchVfSkZzc3PJ9W6B+vp6li9fTiwWK7lUWomMAwcOjLgWfd555wFn71q0600aAWe7N6mi5LPiSyqZKhRX4EiVMh1llGoEZxO54GYXVj3OLt+Xi1HDJbjK4RJc5XAJrnL8f4IYKJhc2HgSAAAAAElFTkSuQmCC",
  "knowledge": {
    "readme": "## 短视频合成\n\n\n### 从本地文件合成短视频，并添加音乐",
    "course": ""
  },
  "code": "\n// 基础数据\nvar videos = {};\nlet videoObjId;\n\n// 变量区域-素材\nlet variables;\n\n// 扩展\nCanvas.prototype.addVariableRect = function (obj) {\n    return this.addRect({\n        left: obj.left,\n        top: obj.top,\n        width: obj.width,\n        height: obj.height,\n        fill: 'rgba(0,255,0,0.3)',\n        lockMovementX: false,\n        lockRotation: false,\n        lockScalingX: false,\n        lockScalingY: false,\n    }, true, true);\n}\n\n\nvar store = new Store('video_create_by_shadow');\nvar storeKey = (new Date()).getTime().toString();\nvar outputVideo;\n\n// 合成预览\n// 540*960\nvar _WIDTH = Math.min(parseInt(window.innerWidth * 0.8), 240),\n    _HEIGHT = parseInt(_WIDTH * 16 / 9),\n    _SCALE = 4,\n    _OUTPUTDIR = (() => {\n        let p = localStorage.getItem('_OUTPUTDIR');\n        return !!p ? p : null;\n    })();\n\n// UI\nlet pc, info, setupInfo;\n\n// 界面\nlet audioGroup, framesGroup;\nasync function gui() {\n    //隐藏p5的画布\n    Lab.base.p5Show(false);\n    Lab.base.layout(0);\n\n    setupInfo = Lab.base.createBaseText(_OUTPUTDIR || '设置路径');\n    setupInfo.style = `width: 86%;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n    display: block;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;`;\n    let setupBtn = Lab.base.createIcon('setup', _setupFilePath, false);\n    let refreshBtn = Lab.base.createIcon(\"clear\", _newVideo, false);\n    // 设置路径、设置按钮、清空\n    let setupBtns = Lab.base.createGroup(setupInfo, setupBtn, refreshBtn);\n\n    setupBtns.layout(6);\n    //Lab.base.add(setupBtns);\n    // 合成视频\n    let createBtn = Lab.base.createIcon(\"play\", _createVideo, false);\n    info = Lab.base.createBaseText('开始合成吧！');\n    // let downloadBtn = Lab.base.createIcon('save', _downloadVideo, false);\n    let mainBtns = Lab.base.createGroup(createBtn, info);\n    mainBtns.layout(6);\n\n    let header = Lab.base.createGroup(setupBtns, mainBtns);\n    header.layout(6);\n    Lab.base.add(header);\n\n    //添加背景音乐 \n    audioGroup = Lab.base.createGroup(Lab.base.createIcon('music', () => {\n        Lab.base.toast('推荐背景音乐，待开发');\n    }, false));\n    audioGroup.layout(6);\n    Lab.base.add(audioGroup);\n\n    // 帧\n    framesGroup = Lab.base.createGroup();\n    framesGroup.style.padding = '24px';\n    framesGroup.layout(6);\n\n    //framesGroup.children = {};\n    Lab.base.add(framesGroup);\n\n    // 添加帧\n    createAddCard();\n\n    let editBtn = Lab.base.createIcon(\"square\", _newRect, false);\n    let textBtn = Lab.base.createIcon(\"comment\", _newText, false);\n    let copyBtn = Lab.base.createIcon(\"plus\", _addVariableElements, false);\n    let editGroup = Lab.base.createGroup(editBtn, textBtn, copyBtn);\n    editGroup.layout(6);\n    Lab.base.add(editGroup);\n\n    pc = new Canvas(_WIDTH, _HEIGHT, false, false);\n\n\n    let previewGroup = Lab.base.createGroup(pc.getElement());\n    previewGroup.layout(0);\n    Lab.base.add(previewGroup);\n\n    // 变量区域-素材\n    let rectInfo = Lab.base.createBaseText('变量区域-素材');\n    variables = Lab.base.createGroup(rectInfo);\n    variables.layout(6);\n    Lab.base.add(variables);\n\n    // 字幕生成\n    const createTextImageAndUpdate = (text, style) => {\n        let id = Lab.base.hash({ text, style });\n        console.log(videos, videoObjId)\n        if (id != videos[videoObjId].textId) {\n            videos[videoObjId] = Object.assign(videos[videoObjId], {\n                textId: id,\n                text,\n                textImage: createTextImage(text, style)\n            })\n        }\n    };\n    // 绑定事件\n    pc.onModified = (opt, json) => {\n        // 矩形变量更改\n        console.log(opt.target.type, opt.target)\n        if (opt.target.type == 'rect') {\n            let index = null;\n\n            // for (let i = 0; i < variables.length; i++) {\n            //     if (variables[i].videoObjId === videoObjId) {\n            //         index = i;\n            //     }\n            // }\n            if (index != null) {\n                videos[videoObjId].variableRect = opt.target.getScaledBound();\n                console.log('更新变量区域', videos[videoObjId])\n            }\n\n        }\n        // 文本修改信息\n        if (opt.target.type === 'textbox') {\n            let style = textStyleExtract(opt.target);\n            const { text } = opt.target;\n            createTextImageAndUpdate(text, style);\n        };\n        // 布局信息\n        updateData(videoObjId, json);\n        // 更新预览图\n        updatePreviewImg(videoObjId);\n    };\n\n    pc.render(true)\n};\n\nasync function createVideoPreview(url) {\n    outputVideo = await Lab.base.createVideo(url,\n        false);\n    outputVideo.style.width = _WIDTH + 'px';\n    outputVideo.style.height = _HEIGHT + 'px';\n    outputVideo.play();\n}\n\nasync function createAddCard() {\n    let addBtn = Lab.base.createIcon(\"plus\", _addVideo, false);\n    let imBtn = Lab.base.createButton(\"\", () => { }, false);\n    imBtn.appendChild(addBtn);\n    addBtn.style.width = '56px';\n    addBtn.style.borderRadius = 0;\n    addBtn.style.color = '#4a4a4a';\n    addBtn.style.background = 'rgba(255,255,255,0.1)';\n    addBtn.style.height = `${_HEIGHT * 56 / _WIDTH}px`\n    addBtn.style.margin = '2px';\n    imBtn.style = `\n    height: auto;\n    background: #eee;\n    border-radius: 8px;\n    padding: 0;`;\n    framesGroup.appendChild(imBtn);\n};\n\n\nasync function _addVariableElements() {\n    let rectInfo = Lab.base.createBaseText('变量区域-素材');\n    // 关键帧的可变区域-素材集\n    videos[videoObjId].variableElements = await Lab.base.createShortVideoInput();\n    if (videos[videoObjId].variableElements) {\n        rectInfo.innerText = `变量区域-素材${videos[videoObjId].variableElements.length}`;\n    };\n    variables.innerHTML = '';\n    variables.appendChild(rectInfo);\n    _save();\n};\n\nfunction _addVariableRect2UI(videoObjId) {\n    // variables.push({\n    //     videoObjId: videoObjId\n    // });\n\n    // 已经绑定了变量素材\n    if (videos[videoObjId].variableElements) {\n        let rectInfo = Lab.base.createBaseText('变量区域-素材');\n        rectInfo.innerText = `变量区域-素材${videos[videoObjId].variableElements.length}`;\n        variables.innerHTML = '';\n        variables.appendChild(rectInfo);\n    } else {\n        let rectInfo = Lab.base.createBaseText('变量区域-素材');\n        variables.innerHTML = '';\n        variables.appendChild(rectInfo);\n    }\n\n\n    // let g = Lab.base.createGroup(rectBtn, rectInfo);\n    // g.layout(6);\n    // Lab.base.add(g);\n}\n\n\n// 添加素材\nasync function _addVideo() {\n    let labVideos = Lab.base.createShortVideoInput();\n    // console.log(labVideos)\n    if (labVideos) {\n\n        for (let labVideo of labVideos) {\n            // 帧数据\n            labVideo = await baseData(labVideo);\n\n            videos[labVideo.id] = labVideo;\n\n            if (labVideo.type === 'audio') {\n                await baseAddBackgroundAudio(labVideo);\n            } else {\n                await baseAddVideo(labVideo);\n            }\n\n            updateData(labVideo.id);\n        }\n\n    }\n\n}\n// 结果\nasync function _createVideo() {\n    if (!_OUTPUTDIR) _setupFilePath();\n    if (!_OUTPUTDIR) return\n    info.innerText = '正在合成ing';\n    let finishData = createVideoData();\n    if (finishData.frames.length > 0) {\n        Lab.base.loading(0);\n        let src = await Lab.video.mergeAll(finishData, (progress) => {\n            info.innerText = progress.toFixed(2);\n        });\n        await createVideoPreview(src);\n        Lab.base.loading(100);\n        // Lab.base.toast('完成' + outputVideo.src);\n        _save();\n    }\n\n}\n\nfunction _setupFilePath() {\n    // console.log('filePath')\n    let filePath = Lab.base.getFilePath(2);\n    if (filePath && filePath[0]) {\n        _OUTPUTDIR = filePath[0];\n        Lab.video.newDirname = _OUTPUTDIR;\n        setupInfo.innerText = _OUTPUTDIR;\n        localStorage.setItem('_OUTPUTDIR', _OUTPUTDIR);\n    }\n    return _OUTPUTDIR\n    // console.log(filePath)\n}\nasync function _newVideo() {\n    await store.clear();\n    Lab.base.clear();\n    gui();\n}\n\nfunction _newRect() {\n    // 暂时只支持一个变量区域\n    if (videos[videoObjId].variableRect) return\n    let rect = pc.addVariableRect({\n        left: 0,\n        top: 0,\n        width: _WIDTH,\n        height: _WIDTH\n    });\n\n    videos[videoObjId].variableRect = rect.getScaledBound();\n\n    // console.log(rect);\n    _addVariableRect2UI(videoObjId);\n\n}\n\n\n// 复制当前的变量区域 到全部\n// function _copyRect() {\n//     if (!videos[videoObjId].variableRect) return\n//     let v = JSON.parse(JSON.stringify(videos[videoObjId].variableRect));\n//     // variables.push({rect:variables[0].rect,videoObjId:'a555a9c614d00029c2b0ac20063bcf33bbfb67cf'})\n//     for (var id in videos) {\n//         if (!videos[id].variableRect) {\n//             variables.push({ videoObjId: id });\n//             _addVariableRect2UI(id);\n//         };\n//         videos[id].variableRect = v;\n//     };\n// };\n\n// 添加字幕\nfunction _newText() {\n    if (!videos[videoObjId].text) pc.addText('TEXT', getTextStyle());\n};\n\n// 关键帧数据\nconst createFrameData = (labVideo) => {\n    let { index, url, type, layout, createTime, id, text, textImage } = labVideo;\n    if (!((index != null || index != undefined) && typeof index === 'number')) index = Object.keys(videos).length;\n    let obj = {\n        index,\n        type,\n        url,\n        text,\n        textImage,\n        layout,\n        createTime: createTime || (new Date()).getTime()\n    };\n    if (!id) {\n        obj.id = Lab.base.hash(obj)\n    } else {\n        obj.id = id;\n    };\n\n    return obj;\n};\n\nconst createTextImage = (text, style) => {\n    let tc = new Canvas(_WIDTH, _HEIGHT, true, false);\n    tc.addText(text, style, false, false);\n    // console.log(style)\n    //TODO  调试\n    // document.body.appendChild(tc.getElement())\n    return tc.toDataURL(_SCALE);\n};\n\n// 计算字幕的停留时间\nconst getTextLoop = text => {\n    text = text || '';\n    return Math.max(parseInt(text.length / 2.5), 5)\n}\n\n// 取布局数据\nconst getLayout = (obj) => {\n    let { top, left, width, height, scaleX, scaleY, angle } = obj;\n    scaleX = scaleX || 1;\n    scaleY = scaleY || 1;\n    return {\n        angle: angle || 0,\n        top: parseInt(top * _SCALE),\n        left: parseInt(left * _SCALE),\n        width: Math.min(parseInt(width * _SCALE * scaleX), _WIDTH * _SCALE),\n        height: Math.min(parseInt(height * _SCALE * scaleY), _HEIGHT * _SCALE)\n    }\n};\n\n\n// 文本的样式\nconst textStyleExtract = obj => {\n    let res;\n    if (obj) {\n        const { top,\n            left,\n            width,\n            height,\n            fill,\n            fontSize,\n            charSpacing,\n            fontFamily,\n            angle,\n            scaleX,\n            scaleY\n        } = obj;\n        res = {\n            top,\n            left,\n            width,\n            height,\n            fill,\n            fontSize,\n            charSpacing: charSpacing || 0,\n            fontFamily,\n            angle: angle || 0,\n            scaleX: scaleX || 1,\n            scaleY: scaleY || 1\n        }\n    } else {\n        res = {\n            top: parseInt(_HEIGHT * 0.1),\n            left: 0,\n            width: _WIDTH,\n            fontSize: parseInt(_HEIGHT * 0.05),\n            fill: \"white\",\n            fontFamily: 'monospace'\n        }\n    }\n    return res\n\n}\n\n// 内容样式\n// 计算居中\nconst contentStyleExtract = (obj, element) => {\n    let res;\n    if (obj) {\n        // width,height是元素真实的尺寸，通过scale来缩放成最终的高宽\n        const { left, top, width, height, angle, scaleX, scaleY } = obj;\n        // console.log(width, height, scaleX, scaleY)\n        res = {\n            left, top,\n            width, height,\n            scaleX: scaleX || 1, scaleY: scaleY || 1,\n            angle: angle || 0\n        }\n    } else {\n        let width = element.width, height = element.height;\n        let scale = _WIDTH / element.width;\n        if (width < _WIDTH) {\n            scale = element.width / _WIDTH;\n        };\n\n        scale = parseFloat(scale.toFixed(2));\n\n        res = {\n            left: parseInt((_WIDTH - width * scale) / 2),\n            top: parseInt((_HEIGHT - height * scale) / 2),\n            width, height,\n            scaleX: scale, scaleY: scale,\n            angle: 0\n        }\n        // console.log(res)\n    }\n    return res\n}\n\nconst getContentStyle = (layout, element) => {\n    let target = layout ? layout.filter(f => f.type === 'image')[0] : null;\n    let res = contentStyleExtract(target, element);\n    // console.log(res)\n    return res\n};\n\nconst getTextStyle = (layout) => {\n    let target = layout ? layout.filter(f => f.type === 'textbox')[0] : null;\n    let res = textStyleExtract(target);\n    return res\n}\n\n// 准备绘制 字幕的数据\nconst getTextAndStyle = labVideo => {\n    // 文字输入\n    let style = getTextStyle(labVideo.layout),\n        text = null;\n    // console.log(textStyle)\n    if (labVideo.text) {\n        text = labVideo.text;\n    };\n    return {\n        element: text,\n        style\n    }\n}\n// 准备绘制 内容的数据\nconst getContentAndStyle = async labVideo => {\n    // 元素\n    let element;\n    if (labVideo.type == \"video\") {\n        element = await Lab.base.createVideo(labVideo.url, false);\n\n    } else if (labVideo.type == \"img\") {\n        element = await Lab.base.createImage(labVideo.url);\n    } else if (labVideo.type == \"gif\") {\n        // let frames = await pc.buildSprite(labVideo.url,pc.canvas);\n        // console.log(frames)\n        if (!labVideo.videoUrl) {\n            let videoUrl = await Lab.video.gif2video(labVideo.url);\n            // console.log(videoUrl)\n            labVideo.videoUrl = videoUrl;\n        };\n\n        element = await Lab.base.createVideo(labVideo.videoUrl, false);\n\n    }\n    // 样式\n    let style = getContentStyle(labVideo.layout, element);\n    return {\n        element,\n        style\n    }\n}\n\nasync function createPreviewImg(id) {\n    let base64 = pc.toDataURL(1);\n\n    //创建图片\n    let im = await Lab.base.createImage(base64);\n    im.style.width = '56px';\n    im.style.margin = '2px';\n    im.id = id;\n    let imBtn = Lab.base.createButton(\"\", async () => {\n        videoObjId = id;\n        await baseAddVideo(videos[id], false);\n        updateData(id);\n        _addVariableRect2UI(videoObjId);\n    }, false);\n    imBtn.appendChild(im);\n    imBtn.style = `\n    height: auto;\n    background: #eee;\n    border-radius: 8px;\n    padding: 0;`;\n    framesGroup.appendChild(imBtn);\n    framesGroup.children[id] = im;\n    videos[id].preview = im.src;\n}\n\nfunction updatePreviewImg(id) {\n    let base64 = pc.toDataURL(1);\n    //更新图片\n    if (framesGroup.children[id]) framesGroup.children[id].src = base64;\n    videos[id].preview = base64;\n}\n\n\n// 用来合成视频的数据\nfunction createVideoData() {\n    // 背景音乐\n    let backgroudAudio = null;\n    let _videos = videos2array();\n    var videosNew = Array.from(_videos, v => {\n        if (v && v.url) {\n            let index = v.index;\n            let textImage = null;\n            let content = null;\n            let variable = v.variableElements && v.variableRect ? {\n                elements: v.variableElements,\n                rect: v.variableRect\n            } : null;\n            // console.log(v)\n            if (v.type === 'gif') {\n                v.type = 'video';\n                v.url = v.videoUrl;\n            };\n            if (v.type === 'audio') {\n                backgroudAudio = v;\n            } else {\n                Array.from(v.layout || [], l => {\n                    // console.log(l)\n                    if (l.type == 'textbox') {\n                        textImage = {\n                            text: v.text,\n                            base64: v.textImage,\n                            loop: getTextLoop(v.text),\n                            layout: getLayout(l)\n                        };\n                        if (!v.text) textImage = null;\n                    } else if (l.type == 'image') {\n                        content = {\n                            type: v.type,\n                            url: v.url,\n                            // loop: 5,\n                            layout: getLayout(l)\n                        };\n                    };\n\n                });\n            };\n            return (content || textImage) ? {\n                index,\n                content,\n                textImage,\n                variable\n            } : null\n        }\n    }).filter(f => f);\n    let finishData = {\n        width: _WIDTH * _SCALE,\n        height: _HEIGHT * _SCALE,\n        // 按照index升序\n        frames: videosNew.sort((a, b) => a.index - b.index),\n        backgroudAudio: backgroudAudio\n    };\n    // console.log(finishData)\n    return finishData\n}\n\n// 笛卡尔积\nfunction ddd() {\n    // TODO\n}\n\n// 更新布局layout\nconst updateLayout = json => {\n    return Array.from(json.objects, o => {\n        // console.log(o)\n        let no = { left: o.left, top: o.top, width: o.width, height: o.height, type: o.type };\n        if (o.type == 'textbox') {\n            no = Object.assign(no, textStyleExtract(o))\n        } else if (o.type == 'image') {\n            no = Object.assign(no, contentStyleExtract(o))\n        }\n        return no\n    });\n};\n\nasync function baseData(labVideo) {\n    // 帧数据\n    let videoObj = createFrameData(labVideo);\n    labVideo.type !== 'audio' ? videoObjId = videoObj.id : null;\n    // 去重？?\n    // if (Array.from(videos, v => v.id).includes(videoObj.id)) return console.log(labVideo);\n    if (labVideo.type == 'audio') {\n        //背景音乐\n        let element = await Lab.base.createaAudio(labVideo.url, false);\n        videoObj = Object.assign(videoObj, {\n            duration: element.duration,\n            startTime: 0,\n            loop: 5\n        })\n    };\n    return videoObj\n}\n\nfunction updateData(id, json) {\n    // console.log('更新数据',videos[id],json)\n    // console.log(updateLayout(json))\n    videos[id] = Object.assign(videos[id], {\n        layout: updateLayout(json || pc.exportJSON())\n    })\n    _save();\n}\n\nasync function baseAddBackgroundAudio(labVideo) {\n    if (audioGroup.querySelector('audio')) audioGroup.querySelector('audio').remove();\n    audioGroup.appendChild(await Lab.base.createaAudio(labVideo.url, false));\n}\n\n\nasync function baseAddVideo(labVideo, isNew = true) {\n    // console.log(labVideo)\n    //  console.log(labVideo.preview)\n    // _addVariableRect2UI(rect, videoObjId);\n    let variableRect;\n\n    if (labVideo) {\n\n        //添加到画布 \n        pc.reset();\n        // 背景\n        pc.addRect({\n            width: _WIDTH,\n            height: _HEIGHT,\n            fill: 'black',\n            stroke: 'black'\n        }, false);\n\n        // 内容 把type==gif的转化为video\n        let { element, style } = await getContentAndStyle(labVideo);\n        // console.log(labVideo)\n        if (labVideo.type == \"video\" || labVideo.type == \"gif\") {\n            pc.addVideo(element,\n                Object.assign(style, {\n                    objectCaching: false,\n                    lockMovementX: false,\n                    lockRotation: false,\n                    lockScalingX: false,\n                    lockScalingY: false,\n                }), true, false);\n        } else if (labVideo.type == \"img\") {\n            pc.addImg(element, style);\n        };\n\n        // 字幕\n        let { element: text, style: ts } = getTextAndStyle(labVideo);\n        if (text) pc.addText(text, ts);\n\n        // 变量区域\n        if (labVideo.variableRect) {\n            // console.log(variableRect)\n            variableRect = pc.addRect({\n                left: labVideo.variableRect.left,\n                top: labVideo.variableRect.top,\n                width: labVideo.variableRect.width,\n                height: labVideo.variableRect.height,\n                fill: 'rgba(0,255,0,0.3)',\n                lockMovementX: false,\n                lockRotation: false,\n                lockScalingX: false,\n                lockScalingY: false,\n            }, true, true);\n        }\n\n        //最后\n        // 创建预览图片\n        await sleep(() => (isNew === true) ? createPreviewImg(labVideo.id) : updatePreviewImg(labVideo.id), 200);\n\n    };\n\n    return variableRect;\n};\n\nfunction sleep(fn, t = 500) {\n    return new Promise((resolve, reject) => {\n        setTimeout(() => {\n            if (fn) fn();\n            resolve();\n        }, t);\n    });\n}\n\n// 缓存\nstore.getValues().then(async vs => {\n    // console.log(vs)\n    await store.clear();\n    if (vs[0]) {\n        _WIDTH = vs[0].width;\n        _HEIGHT = vs[0].height;\n        _SCALE = vs[0].scale;\n        if (outputVideo && outputVideo.src) (outputVideo.src = vs[0].outputVideo) && outputVideo.play();\n        let ds = (vs[0].videos || []);\n        ds = ds.sort((a, b) => a.index - b.index);\n        for (let i = 0; i < ds.length; i++) {\n            videos[ds[i].id] = ds[i];\n            let variableRect;\n            if (ds[i].type === 'audio') {\n                await baseAddBackgroundAudio(ds[i]);\n            } else {\n                variableRect = await baseAddVideo(ds[i]);\n            };\n\n            videoObjId = ds[i].id;\n            // 变量\n            // if (variableRect) {\n            _addVariableRect2UI(videoObjId);\n            // console.log(ds[i].variableElements);\n            // };\n\n        };\n        _save();\n    }\n});\n// videos object转array\nfunction videos2array() {\n    let vs = [];\n    for (let id in videos) {\n        vs.push(videos[id])\n    };\n    vs = vs.sort((a, b) => a.index - b.index);\n    return vs;\n};\n// 保存\nfunction _save() {\n    let vs = videos2array();\n    store.set(storeKey, {\n        videos: vs,\n        width: _WIDTH,\n        height: _HEIGHT,\n        scale: _SCALE,\n        outputVideo: outputVideo && outputVideo.src && outputVideo.src.match('.mp4') ? outputVideo.src : null\n    });\n}\n\n",
  "code_length": 166,
  "size": [
    365,
    660
  ],
  "extname": "designlabplugin",
  "version": "0.1.1",
  "package_id": "31b99d9198d9d3a594cc6d4ab138cc78a211f1a5",
  "create_time": 1616569260297
}