{
  "poster": "data:image/png;base64,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",
  "knowledge": {
    "readme": "## 短视频合成\n\n\n### 从本地文件合成短视频，并添加音乐",
    "course": ""
  },
  "code": "//Hello AI world!\nvar videos = [];\nvar store = new Store('video_create_by_shadow');\nvar storeKey = (new Date()).getTime().toString();\n\n\n// 界面\nfunction gui() {\n    //隐藏p5的画布\n    Lab.base.p5Show(false);\n    Lab.base.layout(1);\n    let addBtn = Lab.base.createIcon(\"plus\", _addVideo, false);\n    let createBtn = Lab.base.createIcon(\"play\", _createVideo, false);\n    let group = Lab.base.createGroup(addBtn, createBtn);\n    Lab.base.add(group);\n};\n\n\n// 合成预览\n// 540*960\nvar _WIDTH = parseInt(window.innerWidth * 0.8),\n    _HEIGHT = parseInt(_WIDTH * 16 / 9),\n    _SCALE = 2;\n\n\n// 关键帧数据\nconst createFrameData = (labVideo) => {\n    const { url, type, layout, createTime, id, text, textImage } = labVideo;\n    let obj = {\n        type,\n        url,\n        text,\n        textImage,\n        layout,\n        createTime: createTime || (new Date()).getTime()\n    };\n    if (!id) obj.id = Lab.base.hash(obj);\n    return obj;\n};\n\nconst createTextImage = (text, style) => {\n    let tc = new Canvas(_WIDTH, _HEIGHT, true, false);\n    tc.addText(text, style, false, false);\n    // console.log(style)\n    //TODO  调试\n    // document.body.appendChild(tc.getElement())\n    return tc.toDataURL(_SCALE);\n};\n// 取布局数据\nconst getLayout = (obj) => {\n    const { top, left, width, height, fill, fontFamily, fontSize, angle } = obj;\n    return {\n        fill, fontFamily, fontSize, angle,\n        top: top * _SCALE, left: left * _SCALE, width: width * _SCALE, height: height * _SCALE\n    }\n};\n\n// 计算居中\nconst getContentStyle = (e, layout) => {\n    // console.log(layout)\n    let target = layout ? layout.filter(f => f.type === 'image')[0] : null;\n    let res;\n    if (target) {\n        const { left, top, width, height, angle } = target;\n        let scaleX = width / e.width;\n        if (e.width < width) scaleX = e.width / width;\n        let scaleY = height / e.height;\n        if (e.height < height) scaleY = e.height / height;\n        res = {\n            left, top,\n            scaleX: scaleX,\n            scaleY: scaleY,\n            angle\n        }\n\n    } else {\n        let scaleX = _WIDTH / e.width;\n        if (e.width < _WIDTH) scaleX = e.width / _WIDTH;\n        res = {\n            left: 0,\n            top: parseInt((_HEIGHT - scaleX * e.height) / 2),\n            scaleX: scaleX,\n            scaleY: scaleX\n        }\n    }\n    // console.log(res)\n    return res\n};\n\nconst getTextStyle = (layout) => {\n\n    let target = layout ? layout.filter(f => f.type === 'textbox')[0] : null;\n    let res;\n    if (target) {\n        const { top, left, width, fontSize, fill, fontFamily, angle, scaleX, scaleY, charSpacing } = target;\n        res = {\n            top, left, width, fontSize, fill, fontFamily, angle: angle || 0, scaleX: scaleX || 1, scaleY: scaleY || 1, charSpacing: charSpacing || 0\n        }\n    } else {\n        res = {\n            top: parseInt(_HEIGHT * 0.1),\n            left: 0,\n            width: _WIDTH,\n            fontSize: parseInt(_HEIGHT * 0.05),\n            fill: \"white\",\n            fontFamily: 'monospace'\n        }\n    }\n    // console.log(res)\n    return res\n}\n\n// 添加素材\nasync function _addVideo() {\n    let labVideo = Lab.base.createShortVideoInput();\n    await baseAddVideo(labVideo);\n}\n// 结果\nasync function _createVideo() {\n    // 背景音乐\n    let backgroudAudio = null;\n    // console.log(videos)\n    var videosNew = Array.from(videos, v => {\n        if (v && v.url) {\n            let textImage = null;\n            let content = null;\n            if (v.type === 'audio') {\n                backgroudAudio = v;\n            } else {\n                Array.from(v.layout || [], l => {\n                    if (l.type == 'textbox') {\n                        textImage = {\n                            text: v.text,\n                            base64: v.textImage,\n                            layout: getLayout(l)\n                        };\n                        if (!v.text) textImage = null;\n                    } else if (l.type == 'image') {\n\n                        content = {\n                            type: v.type,\n                            url: v.url,\n                            loop: 5,\n                            layout: getLayout(l)\n                        };\n                    };\n\n                });\n            }\n            return (content || textImage) ? {\n                content,\n                textImage\n            } : null\n        }\n    }).filter(f => f);\n    let finishData = {\n        width: _WIDTH * _SCALE,\n        height: _HEIGHT * _SCALE,\n        frames: videosNew,\n        backgroudAudio: backgroudAudio\n    };\n\n    Lab.video.mergeAll(finishData);\n    // console.log(finishData)\n    // Lab.base.toast('完成');\n}\n\nasync function baseAddVideo(labVideo) {\n    // console.log(labVideo)\n    if (labVideo) {\n        // 帧数据\n        let videoObj = createFrameData(labVideo);\n        // 去重？\n        if (Array.from(videos, v => v.id).includes(videoObj.id)) return;\n\n        let element;\n        let pc = new Canvas(_WIDTH, _HEIGHT, false, false);\n        if (labVideo.type !== \"audio\") {\n            // 字幕生成\n            const createTextImageAndUpdate = (text, style) => {\n                let id = Lab.base.hash({ text, style });\n                if (id != videoObj.textId) {\n                    videoObj.textId = id;\n                    videoObj.textImage = createTextImage(text, style);\n                    videoObj.text = text;\n                }\n            }\n\n            // 绑定事件\n            // 文本修改信息\n            pc.onModified = (opt, json) => {\n                // console.log('onModified', opt)\n                if (opt.target.type === 'textbox') {\n\n                    const { top,\n                        left,\n                        width,\n                        height,\n                        fontSize,\n                        fill, fontFamily, angle, charSpacing, scaleX, scaleY, text } = opt.target;\n\n                    createTextImageAndUpdate(text, {\n                        top,\n                        left,\n                        width,\n                        height,\n                        fontSize,\n                        fill, fontFamily, angle, charSpacing: charSpacing || 0, scaleX: scaleX || 1, scaleY: scaleY || 1\n                    });\n                };\n\n                let background = Array.from(\n                    json.objects, o => (o.type == 'rect') ? [o.left, o.top, o.width, o.height] : null)\n                    .filter(f => f)[0];\n\n                let objects = Array.from(json.objects, o => {\n                    // console.log(o)\n                    let no = {\n                        left: o.left,\n                        top: o.top,\n                        width: o.width,\n                        height: o.height,\n                        type: o.type\n                    };\n                    if (o.type == 'textbox') {\n                        no = Object.assign(no, {\n                            fontSize: o.fontSize,\n                            fill: o.fill,\n                            fontFamily: o.fontFamily,\n                            angle: o.angle || 0,\n                            charSpacing: o.charSpacing,\n                            scaleX: o.scaleX,\n                            scaleY: o.scaleY\n                        })\n\n                    } else if (o.type == 'image') {\n                        let scale = background[2] / o.width;\n                        if (o.width < background[2]) scale = o.width / background[2];\n                        no = Object.assign(no, {\n                            width: background[2],\n                            height: o.height * scale,\n                            angle: o.angle || 0\n                        })\n                    }\n                    return no\n                });\n\n                videoObj.frame = pc.toDataURL(2, 'jpg', ...background);\n                videoObj.layout = objects;\n                store.set(storeKey, videos);\n            };\n\n\n            //添加画布\n            pc.addRect({\n                width: _WIDTH,\n                height: _HEIGHT,\n                fill: 'black',\n                stroke: 'black'\n            }, false);\n\n\n            // 元素\n            if (labVideo.type == \"video\") {\n                element = await Lab.base.createVideo(labVideo.url, false);\n            } else if (labVideo.type == \"img\") {\n                element = await Lab.base.createImage(labVideo.url);\n            };\n\n            // 样式\n            let contentStyle = getContentStyle(element, labVideo.layout);\n\n            //添加到画布 \n            if (labVideo.type == \"video\") {\n                pc.addVideo(element,\n                    Object.assign(contentStyle, {\n                        objectCaching: false\n                    }));\n            } else if (labVideo.type == \"img\") {\n                pc.addImg(element, contentStyle);\n            };\n\n            // 文字输入\n            let textStyle = getTextStyle(labVideo.layout),\n                text = labVideo.type == \"audio\" ? \"背景音乐\" : '字幕';\n            // console.log(textStyle)\n            if (labVideo.text) {\n                text = labVideo.text;\n                // createTextImageAndUpdate(width, textStyle.fontSize, text, textStyle);\n            };\n            // 添加到画布\n            pc.addText(text, textStyle);\n        } else {\n            //背景音乐\n            element = Lab.base.createaAudio(labVideo.url, false);\n        };\n\n        // console.log(pc)\n        //最后\n        let vg = Lab.base.createGroup(labVideo.type !== \"audio\" ? pc.getElement() : element);\n        Lab.base.add(vg);\n        vg.style.padding = '24px';\n\n        videos.push(videoObj);\n        store.set(storeKey, videos);\n    };\n};\n\n// 缓存\nstore.getValues().then(async vs => {\n    await store.clear();\n    // console.log(vs[0]);\n    let ds = (vs[0] || []);\n    ds.reverse();\n    ds.forEach(v => baseAddVideo(v));\n});\n\n// function setup() {\n\n//   createCanvas(windowWidth, windowHeight);\n\n//   var add = createButton(\"添加素材\");\n//   add.position(240, 20);\n//   add.mousePressed(addEvent);\n\n//   function addEvent() {\n//     index++;\n//     createVideoInput(index, 10, 50 + 150 * (index - 1), \"上传\");\n//   }\n//   var button2 = createButton(\"合成\");\n//   button2.position(320, 20);\n//   button2.mousePressed(buttonEvent2);\n//   function buttonEvent2() {\n//     //alert(JSON.stringify(videos,null,2))\n//     var videosNew = Array.from(videos, v => {\n//       if (v && v.url) {\n//         return {\n//           url: v.url,\n//           text: v.text,\n//           type: v.type,\n//           textImage: Lab.base.createTextImageAndUpdate(v.text, 120, \"red\")\n//         }\n//       }\n//     }).filter(f => f);\n//     //alert(JSON.stringify(videos,null,2))\n//     Lab.video.createShortVideoFromLocal(videosNew).then(() => alert('完成'));\n//   }\n\n// };\n",
  "code_length": 28,
  "size": [
    365,
    660
  ],
  "extname": "designlabplugin",
  "version": "0.1.0",
  "package_id": "a626a8e0317cf9809362a3829ce74dbe7171f06e",
  "create_time": 1614093733963
}