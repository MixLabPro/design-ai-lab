{
  "poster": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAADBCAYAAAAEoXRvAAAgAElEQVR4nO2de3Rc9XXvP+cxb81DkiVLyA/JQsaWDQYbAhiwMdAQKISsmzQtyW3LaoPTrmbdJF2997YNFGgelyQkpGS1gfBIaFZJSEhjUuoEx9hgCOZhO7bBWH7pLesteR6a13ndP0bnZGY0kmZsWTbD+a4lWzM6s89vzve3f7/923v/9k8wDMPARtlCPNcNsHF2YRNc5rAJLnPYBJc5bILLHDbBZQ6b4DKHTXCZwya4zGETXOawCS5zyIXeNN3TgiBgu6rPLUwOBEE4vc/bwYbyxqwarOv6GfUgG6cH85mLonhGz78gwdmYmJhAURSb4HmGrut4vV48Hs8ZySlqDrZH8flH9nOfcw3OFiYIgvWTfdO51Ohiv0C20Wd+Jr/zTWcYZhsr74fRKLudZ9LeWYfofLhcLgA0TUPTtJxGmB1AlmU0TUMURQRBQFXVzM1kGcMwcuZ1WZYRRRFFUdB1HQBJkqz7me9BhlRJkhBFEUmScu6fTXg+iWa7RFFE0zRUVX1fkDwXKIpgUyNEUeTEiRM4HA4CgQCBQMAiLJ1OI4oiLpeLvr4+qqurSaVSpNNpamtrEQSBgYEBnE4nFRUVOBwONE2jq6sLVVVpaGjA6XQiCAJjY2NIkoQgCHg8HsvYc7lcjI6OEolE2LNnD+vWrWNkZITu7m42btzIjh07aG5uxul00tvbS0tLC/v27aO+vp5Fixaxb98+1q5dS1NTk2VXlDvRRRPscrno6uqio6ODcDhMJBJBVVWSySRVVVXU1NTQ3d3NkiVLqK2t5bXXXiMajeJwOHC73UQiEXRdR5IkPB4Pw8PDXHzxxXi9Xjo7OxkeHsbpdOJyuRBFEVVVCQaDBAIBwuEw4XCYuro6ampqkGWZ3/zmN/j9ftrb2xkcHGTBggUcOHAAt9vN0qVLOXLkCAsXLqSrq4t4PI6mabz88svU19fT0tJCOp0ue3JhmnVw9jwbjUZJpVI4nU76+voIBoP09vaiaRqpVMoy5QOBALFYDIDGxka6u7tRVRW3282pU6cwDAOn0wmAx+MhGo0SCoWoq6ujp6cHgFQqhWEYuN1uBEHA6/UyMTGBIAgcPHiQpUuXsnz5cnRdp7+/n1AoRCwWY3x8nNbWVg4fPgxAKBQimUwSCARwu90AJJNJkskkPp+PxsZGa5g+X0nOtqLn3NGRT7CiKEBmDtV1HYfDAWSGbPN6TdOsuTOdTuNwOKw50Xxf13VruJUkCVVVUVXVujZ7PgVy5vFEIoHL5bLmb7MtpmxFUXLu43A4SKVSOW10OBwoipIzd5+vmHeC8y3YKYKy/l6sizOf0Jlkmgv+7DYWume+0ZX/vc5nrc3GXBFc1DpY13VLE8z3CyF/eVUsZrrW/JtpTecvHaa7ZyGZs3Wo8wnmSAVneR0sy/KU92ycfciybE05Z/Ls7WBDmcMOF57nONNwoR3wL3MUPUTnX5btQiyEbKMMps4j+RbxTM2YTZaN6VEUwfnx4fwHPh3Ma/MDFNlDTrHyppNlY2YU5arMJyOdTrNr1y6OHDmCoigWQbquI8syLS0tbNy4EbfbPYXA7PWrGQDo7u7m1VdfZXh42HJsmJ9rbm5m48aN+Hy+kjqXjQxm1eDstZhJxj//8z9bbkFZlkmlUkAm0qRpGrqu09LSwr333suFF15oebCAKeQ+99xzfP/73ycWiyFJEoqikEql8Hq9FtGNjY3cc889tLa25miyrcWzo6gh2pxvk8kkn/vc5zhy5AiVlZUAnDp1iiVLliBJEh0dHYRCIQDC4TBLlizhe9/7Hn6/3yLUdJxIksSuXbv4+7//e/x+P06nk0QiwaJFi2hqamLv3r2WyzMcDlNbW8tjjz1GVVWVJcvG7Jj1KWVr286dO2lra6OqqgpN00in09xyyy184+tf56GHHuL2229HURRUVSUUCtHe3s62bdtycrsgo8WapvHMM8/gcrlwOBzEYjFWrVrFJz/5Sa644gruuusufD4fyWSSUChEX18fL7zwwhRZNmZGUWpgkvzuu+8iSZI15E5MTPCxj32Mt95+m+3bt/NHf/RHJBIJiwSHw8G77747xUcsiiJjY2P09fXhdDotwkRRpKenh7fffpuxsTFLS1VVxel08t57702byWGjMErK6Miej82Izvj4OGvWrEFVVcbGxizX5kyBieneNyNS5pCevxSzSS0dRWmwGYFpbW21QniGYeD1ennwwQd56623OHToEA888AAul8vSRkVRWLlyZcGoT3V1NfX19ZYVLooiExMTOWk9ZrhPkiTS6TQrVqw4Y8/OBw0lGVnxeJy//uu/prOzk1AohK7raJqGoihWQN9MtYlGoyxcuJDHHnuMUChU0Mjavn0799xzD5WVlVaOlcvlQpZlksmkdV00GiUYDPL4449TU1NjG1kloORl0vHjx7n//vtpb2+3NC//ek3TWLJkCf/0T/+Uo/UwdZn0ox/9iKeeesrK6cqej01jrL6+nnvuuYfLLrtsiiwbM6OkaJK5Bo3H42zfvp0jR45YGZMmJEmipaWFm266Cb/fX5Sj4+jRo7zyyiuMjIxkGjX5d9PRcdNNN1kjhq25peGcuiqzST5dWTZmxvsi2JCfZmOTWzxKDvjnr2mnFVyktVvMuta2nE8fdkZHmcO2WMocNsFlDpvgModNcJnDJrjMYRNc5rAJLnOUvMN/JkdHtkPiTJPnZ9pEZqN4zKmrcq7qStiYO8x5sCE7g9L8TDqdLnpPrhl8MGuB2Bp8ZjitvOhYLMb27dtpa2uzwoXV1dVs2LCBVatW5Wi3IAgkk8miSyYYkxvGbYLnBiUH/I8ePcr9999PR0eHVSFH13Ur6f3Tn/40mzdvztnPG4vFii6mZhIcDAat1zbBp49ZNdgcls00nAceeICenh4WLFhglWAwtU3XdZ544gnq6+u5/fbbc7IvpjO+sl/b2ZJzj6LzogVBYMeOHVZyezKZpKKiguXLlxOPxy2N9fv9/OxnP7NScPIJNZPozHwrl8uFy+VCkiRbW88Cil4HG4bB4cOHLXI0TcPtdvPwww/T3NxMMpkEwOFwMDw8zODg4JS6HmalnhMnTlBZWUl7ezu7du3ilVdeobe3F4fDMWsigY3SUHIhNBMmeVu2bKG/vx+Hw5EzvBZKxhMEgXg8ztDQEH6/n8HBQfr7+9E0jerqajvf6iygKCPLHE63bt3KV77yFaqrqy2jKZlM4nA4rHTZZDJJY2Mjjz32mJUEH4vFSKfTSJJEIpGwalSZ5ZjMXRDm6CDLsm1kzRFmVRnT+NF1nU2bNrFy5UprB4MoilRUVFj50LquE4/H+dSnPmUNt9mOD7M0UCAQwO/3W/Ov1+u15+CzhJKXST09PXz5y1/m0KFDOWSYOx3+4i/+gjvvvHPaZdJ0t8t2TdrLpLnDaeVFq6rKq6++OsXRcc0117B06dIcQ0kURSKRSEmODlmWrW2odi70mWFeXJXZpYKLapQgWHUtbQ0+M9jBhjLHWUubtcOF5wfsvOgyh229lDlsgsscNsFlDpvgModNcJnDJrjMYRNc5rAJLnPYBJc5bILLHDbBZQ6b4DLHtEl3c102yca5waxH281F4TMb5w4znnxmEhaNRtmxYwft7e1TEukkSWLVqlVs3LjROjDSTrE5fzCF4Pwku4MHD/LVr36Vnp4eq0CoeTBHOp22jm+9+OKLue+++6ivr7c6ga3B5x4Fh2iToJGRETZv3sz4+DgVFRVApmj3xMQE9fX1NDY2cvjwYXRdZ2xsjEsvvZTvfOc7Vj60rcnnHlMYMBPdBUHgl7/8JQMDA/j9fuuMBp/Px9e+9jX+9V//lb/927+1zumtrq7mwIED7N69e8pRsDbOHQoSbOZRtbW14XQ6rc3b5nHuuq7zl3/5l/z85z+noqLCOkpHEATrjAab4PMDM46h2SSZ20vWrl3Lyy+/zLJly/jYHXcQDoetY1BtnH+YQnB2IZUVK1agKAqyLKNpGpWVlaxfv55wOMzo6CiPfPe71jkL5udWrVplG1jnEWY0soaHh7n77rsJh8M587C5HFIUBZ/PhyAIjI6Ocskll/Av//Iv1qYy28g695hCsPnS3FG4f/9+vvrVr9LX12ed0ZDvCNF1ndWrV3PffffR0NBgL5POI8yYF206LcLhMC+99NIUR4dhGDgcDlatWsWmTZusHYW25p4/sF2VZY5pNdgONpQHitofXOyZCubvNs4f2HuTyhy2NVTmsAkuc9gElzlsgsscNsFlDpvgModNcJmj5DMbzgRzueTOL8I2V6WIizl4sxRZ+Q6gs/UMpr1mJl/0XDYk+4tqmnba95BleUoFH/N/TdNOS2Z+lCy73Wa07HRg1u8sVCs7/2DtYmFmshbrOSwYLpyLEkbTyTnTskiFPj8XpZbeT3JL+fys0SRFUUrWDFmWC2qaGW361a9+xTvvvFPysLp06VL++I//2PqC2Z9PJpM88cQTTExMFP/lJ6+7+eabueSSS3IiZ+bvhw4dYuvWrUDxI5thGHg8Hj7zmc/g9XqtFOTs4uo/+9nP6OjoKPq7m9+1tbWV2267zWrfrN/VyIOu64amaYau60YymTRGR0eNsbGxon6yr02lUjmyNE0zFEUxDMMwbrnlFgMo+WflypWGYRiGpmmGpmmGYRiGqqqGYRhGb2/vackEjAcffNAwDMNIp9OGruuGrutGOp02DMMwHn744dOW29HRkdNGTdOs39esWXNaMm+88UbDMAxDURTrGcyEgonvpnakUimrlxQzLJjXmKk9+fUmTTl+vx9JkpAkqajRwTz4IxgMTmlHthYHg0Fisdis8kyY93e73dOeKWEeN1BsW014PJ6c727KNN8LBoNIkmR9t2Lb6vf7c57nbJhC8HTzZvb/M6HQ8DllDsr7EcgMiYXkW4d6zHBPU76maSVPJ6bBV6gT5xtvpcg2r82fhjL3EK1jEcypq1iZZkZNsdPFtMukbHLN+aNYDc7Xgvy/x2MxdE1DL+KBZVux0WjEsmwLtcU88CP7ftn3z+/15rXFjlBzgbm6RbFtLepYnblCpqPoXH3d9WiSC1mWUVUVp8tF5/HjHDl8CEEQkUQRAwFVSXP5VVdTU1dHIp5g5YrlU8g1CdR1nUgkMuP983u9qWWpVGrO1tGzwTAERPH3GTL52jtdO8y2mtefsQafDYiiiKYq/Pnmv+FPPvMFBEPH6XLS1dXFPV/4PF5PN06nC1l2oCgqhqrR0LCMb/zb91AVFYdooKkqDqdzyvDvcrm44447SCaSGIaOIAmgGxw73oGm6VRU+GhsXIyqqui6Ya19NVWjubnZGqnO/jMAw4A77riJlRfV4XC5wTAwMBAQ6OzqIZ5I4vN6kR0OkokEi+rrqK2tIRwJc+mlH7KeZTGYd0+WIAjEJyaIpgwkdJxuF99/5Nt0Hj/KymXLqA14CEcijIajJAwH2//7ebb+5w3ccMvtJBIxGoILpgy7AIFAgC1btph3QkPlR//+HC9s3U7QI7KwtpbGlZdw912fZNLksWSoimqlCZ9tLc5MMdBQvxBdjeFyuTF0HZfbxZtv7WNoaBh/wE/NwmoqKry0n+ikf6Cfa9ZfQSQaoa5uQc73ng3nxBctiiKiJOD2eenp6mLvG2+ybHEdN117NVetW0tLQz1XrLiQC4JeBAR+++ouhEmL08AoOEQbhkFiIk4kfIp4Ms7TP3yW5/9zC8sXSHzyDy7nYxtW0fbGTr718KOk0inGT42TiCdQFZW0ks6RdTaR6eRkTo1TNHRNx+12s//AYX6+5TccO9FNT18/qVQaJa0wPDqOLogMDY+AbqCpWkltPe3zg/MNqaL8ooKQsYaFzDDlkB0cP3yYU6PDXH/ZBlovWkY8GkVQG4nEYmgGtPcO0NPZSXwihkeWZjSn01oal8fF0ePtPP/8Vj523Wr+x+0fRnD7kCWJe1qW8n++9iRv71vHlZevIZlI4nQ6EZi/ZMHM8zLvZ2CQMfZ+s/014rEkC2pCXNSyjOXNjSxuqONDay9Gkh3sP3iYJXW1uCePEZwzIysb2eSaw1mpZrvJkADohs67Bw/glgWWLKxmceMyXE6RkO9qDu77HYFAJ0PhKFWVFRiqAg735CP5PbKtfUXT8Dtltm/fiZga44br15PQJeREkkgqhdMps37dSp5//r+46kOXoukquq7kyJoPLc6GKAjEYnGuveZyPv+51axd08rihjr8fh/+QAVuj4v9+9/jxz99Hp/bgcvtKkn+aWtwJBJBkiQ8Hk9JD8UwBAQDZEkiFo3Q9t4h3E6Z2z56C519Y0THB/nQujXEEwkkt4/r163mYNcQ6mSvF5i+54oixOJxdv92N42LLuDk4CjhseN43Q4UTUM1RJyyk31vv0n/wCCVwQCapjCfM5Ux+Y+mTa77BQFJFPF63aiqgt/nxelwEI8nGQ+H8Xk8pNMK0ejEpGFY2khT0jczvVTBYJCXXnqJffv2EQwGSzr8GQx0DCRZZuBkP/29vcQn4iQ1WHf5pVx51bUkFR2PoLJx3SoW1Vbi9ftxenyg6xjT3MYwDGRZYqB/kMNtR6jwB3G7nTidDlI4EBxuFlT6qaoK0dPbx7Gjx5AcLhRNn9GJMucwwBBA01UUVUUSRU6dCvPOe0f4fw89yp9u/t+0d/fyxL//lM/+r3t59he/QlN11l91ObU1C1D1EuMCJbXNyJxp9Pjjj7N7925kWSYcDvPRj360qHORzLnO0HW8AT+H9u8nPDZCZPwUb775Fv9zeTPpJEgSuETwyHCwrZ1LLmrFiIygh6oQjMLTsIGBJMmcOHGCkydP0tK8mObGZvpQqVq4kPhEAgkRf7UTRVE4dqyda669Bl0zEOeR4smpF0PPdHZD15FkiauvXMvdf/4nqJrKsqbFfPTWm2hauoQL6mtIplJcsjpzyqumnEWCIbPgvvXWWxkZGSEUCrFp06aiD71ico7zVVSw6+WX2PKT/8BAx+l289zzW7ntlk2oUYXoeyeID51i+/FfE41O0Nq8hN7f/ZYLr//DjBimkmwYIBjQ2dFBMpWmveskg70dJKJROgaHESSBipCP3lMakegEwyPDaGrGSybM42LRmPTNaoaOpuskUklcTgeVgQAtzUto7+jhrbcPcMXlF3PhsptIxdP09PfjcXvAMNC00mLTJQ/RgiBQV1fHzTffzPXXX8+CBcWvyzRNQ5Rkfvzk9/nyF/+GU2PjxJMpBEmi/UQHvR0nqKipxrugmpND/bzzXjutK1fglAXSokQykUAQmGJoGYYx6c82GB4awevxsHXHbxk7NUJlyI9HNXAZBh6fg2d+/ktSaYXOjk6SqWRxIbc5hEGmI6qahqpp6Hpmahk7FebgoSNEYjGGhsdQFZ3xUxF6BwdQNZVQwE8kHEMssa0lD9HmUXUrVqxA13Wi0WjxRVcmDaUT772H2+dHFmFJqILaygBXr72YUKgKRU+jVzq49k/+lJsDAQQjzRuvvcLS6z5BhT+YcUjk6XBm+WWg6xqJZJIKr5sTPSf50te/x9f/790sWL4UTU3y4Hd/wLMvvE5t7QLee6+NI21HuHztZSjp08uuOB0IBhgiKIpGKq2gaiqptIAoibzbdgxN0Vh+YROd3b1UeL0kkykGhkfo7x9GzwqmFLs0LYlgcxkhiiKpVAogJxAxG8mCmFkAL794FVRWc3LPbjZctwZ/KERTUxNul5uJkQFcngDBGj/7f/siyYkJeto7kCrfoK4qgLCgHiFLh817ioJIIplgZGQU3RDw+/wcPNbLr7b+N+submF0bIydbx6kwh9Alh309fazc/sOrrziClL6/Dk6EDJTjKoopFJpkqnM9OZyOEinFZqWLEaUREAgmU4Ri8fp7O7D560gmkyQUpTZ7pCDktcHZq8xfbnZ7xXzWcPQWXXl1ThEmQtWX4JvURN1dbUsuGARqUQKXROoXNjAUF8HAgIXNF7IH3zkw3ijfZz47X8jSjLZPJj3djqcBHxBOtq7kCQJp9OBw+3F6fXRclELyy5aQXV1FSAgyw48Xi8X1DcgihIOh3PeoklmJ0qmFCLhKIqqYggGh947TvRUlOGRUZqWLkYSRHp7B/D5vHR19/K7g+8SjRYf6zYxr75oAAQRWZRpWb6ci1a3klIVxNF+REnC43ZRUXMBHrfMSCRKxboPc/GaVShKisXRKKNdnWiqipQVbLD824k477zzDmsvXcOBAwdxuVMkE3H6IgoHeiKoKQWHLJNMRBnTU6xcsYLa2hq2/fpFljUvY1lz87RhyDn9+mbwH3C7XYwMj/Nfv3yJo8c6+f6/fYVjR4/z6JM/4tabb+C2W27E7/NkhnJVp+14O0uaVpR0v3kPNoiiyNF395NUYKB/EK/Xje6v5p2xk3DiOBc0J0mHRzh45Bhy3MF4bAKPDLIk4nW5MrNvXozZrKe5adOmKdmKjzz5HI88+VzOexPAa8P9/OGrOwH45je/yd/93d9ZFYXO9jMQBIFDh47x+u7djAyNE08kAXjqh89x4bIljAxH2Lr1FU4c76bv5CAH3z1CRYWPcDhMMNjA5s1naQ4+UxiGjmEIvHnsJZ57+RkC3gC6riGKAoIso6mT2RUYCJOpLIZhIIkS0XiUay/bwK8efWXKXGl+WY/HQzQanXJf8znkT7FmeSgzQXA+h+iOjl66u/on25exX954cz9vvLnfunbb9temfH5l/1COnNkwvwRPLrNkt4SjQsATyFTRMzJqiaPgglRAFARUpxOnz5GTmQi5WRrTfenpnkV2xsd8BhsAnE7ZarsZxBfFjCtWz8m5MtB1w8rJMkeYOQs2zGXPFoxJEgxAFzE0MDQmQ7PCNP4kA0MQMHQBJtf487luPRvIdKypz1bXzSy1qZ01uzOWYu1Pm1WZrSmlBRN+34h8Q8iM5eqGjiZo6JM/M8QPMhAMdFR0QZ+Sk2XeJzs5rlhkp8Hk52+Zr03tOt1kvkJyRVGckoJTSlvPKOkue62b/XuxFqZJgPn57AYJZP53GE48WgVO1Ztp+CxiRUHErRrIqmtKrzeHMkEQqKioKEm7zWHP4XAUzAQVBAGHw4HX6y05bdbtdue0DXKVx+v14vV6S06bzU/xndX/b+R1heyXZm3oUjVYkiR8Pl/OOjlbRk9PD9FIDFGaDH4XIVc3DDxuN41NjQU7XjqdpqOjo2RnhWEY1NTUsGDBgpwHZv4+OjrK0NDQaU0LTU1NuFwuq63ZI1pXVxeJRKIkuYZh4PP5WLx4cY4NMhNm3bqSPUwVi2ztL3hTIbP5qlQyzBqYhdJyzS+qlOrpmUy1zZeT/drMRy4WhmFYo8JcthUyz6BQTtp0OCebz8yG5QcNZmwoM9fiOlM3Y6H2na7cQmRmoxDpcyG34Gdm0uC5wnQ9eS7lnu+Yy2dQCtF2IbQyR8F18NnQYBvnBtOug83fT4fs7GVWvkwb84sZq82eKSnz7Qa0MRUFNVjTNCRJ4q233uIf//EfrfeLgbkOfuyxx2hqaip+J7qNs4KCBJva293dzUsvvXRagkdGRli2bNn7xsotVxR0VZpmuCzLVqWYUhb6giBMSeWxNfjcYNYN4JqmFe0vnU6GTe65w4zhwmwjKT9z0h563x+YkeBsLbbx/sSMBKuqisfj4dJLLwWwTiGNxWK0tbXNSwNtnBlmJFjTNHw+H6tXrwZgdHQUj8fD6OgobW1t7ytf8AcVMxLscrkYGRnh8ccfL/h3m9zzHzMSbFrONTU1qIqCPunESCQSJBKJeWmgjTNDUTsbnE4nouTE4XTh81WQVnJ3xReCrd3nB2bUYDPl5mR/HxfU+IlNpDB0HxuvuhpRGGX9qhpe3XGMRb4AzpoAFy738fLeHl7cfdxe+54nmFmDJ7XQV+Hnnj+/hhvWNOLyBLhx4waUhMTEcJhTY0kuW3MRlaEq+rvGiY5nhm6b3vMDMzs6JrUwEU+y9bUeuvoipBNp/v0nP0YXVP6zf4KkoPHAc79BdsqEKtzEk5M79ea3MIKNaTCzo2Pyf0PX2Lavg1QqxZrlF3Dr6gsZcyisWyzxyJYjfHhNHV1j43zqD5p49tU++odOzUPTbRSDolyVhgGpZByA7r4xehoiHB0YZagT+vrDXLZsKRheXny1k84uc4ujPUifDyhqb5IoCuh6hrDxiTj/sWsvkiCwX5LR1TQ/2vZ6JuYrSkiCPTSfTzgtX7ShKqgAkyUAAXRNB03FvNJeJp0fmJHgZDJJQ0MDt912GwMDA7hcmRLAbreb4eFhq96yYRgMDw/z+uuv2/Hf8wwzEixJEpFIhKNHj9Lb20soFCIQCOBwOAiHwyQSCWuP7dBQaftWbcwPZiU4FovxzjvvkEwmGR0d5c4770SWZbZs2UJXV9d8tdPGaWLWOdgwDMLhMJqmkUwm+eEPf4jL5SIWi+UMw7bmnp8oysgyN4rpuo6qqkxMTMxL42ycOYpcJhXOybK19vzHtFtXzmR3e7YMuxOcW8x4MJbD4SAQCJSUVWnO22a6rb1sOrcouD/YJCQajTI4OFgyOYZh0NDQYBULzy5jYGN+MesOf/M0sWIIMj8ny3JOmq1N7rnDWdnhX2iXvE3yucG87fC3cW5Q0Iq2CSkfnJODsWzMH2yCyxw2wWUOm+Ayh01wmcMmuMxhE1zmsAkucxSVF10q5rpY6FzK+6A5cabV4Gz/sRkqzC5wnf2TX3I4/+EXKk88nazsij7TVXzNfj1b28xq7mdSPfb9jGl90YUqmobD4SlxYVmW8fv9AFbRs+lkZP89lUoRj8enNMjn8+F0OnPk5XeQ7I5nyotEIjmJCWbxbNfkidmFZH0QMOuZDaIo8utf/5otW7ZYqbHZ2iCKIkuWLOHOO+/kiiuuyNFOE9nkjo6O8vTTT7Nnzx4SiYRFEGRI8Hq9XHnllfzZn/0ZoVBoWpLNe7/++uv89Kc/paenJ4dwXdfxeDysW7eOu+66i+rq6imyPpbprI4AAARtSURBVAiYVoN1XUeSJB599FF+8IMfWOcWpFIpKz4sSRIul4t0Oo2u6/zDP/wDt956q1VbK1vTBEFgaGiIL37xi3R0dGRK/kuZE0VNeDweNE0jFouxYsUKvvWtb1FZWQmQQ4zZtl/84hc89NBDyLKMy+VC13VSqRSiKFox6VgsRlNTE9/+9rdZuHCh1TE+KJDuv//++7PfyCZ3z549fOMb36C6uhrDMFi0aBFf+tKXaGho4LrrruO2225j7969Vln8t99+mxtvvBG/319wJPjmN7/J3r17qampMW/GunXraG1tpaqqiqHBQeTJNKGuri4mJibYsGFDzqhgamF3dzf33nsvLpcLt9sNgN/v595772XVqlUMDQ0RiUQIhUKcPHmSkZERbrjhhg/cED2jkbVt2zbrtam1oVCIAwcOcPz48UztDlVF13WcTieRSIRdu3blGEpmftbg4CB79uwhGAyiqiqJRIKrrrqK+vp62tvbWbRoEesuv5xEMomqqgSDQd544w3Gx8etMxWy04l27txJPB7H4XCQSqWorKzkC1/4AmvXruUjH/kI69evJ5VKoaoqgUCAvXv3MjAw8IEbomesFz08PIwsy5ZGR6NRdu7cyY4dO6iqqmLhwoWk02nrGkEQGBgYKFhzenh4mEQiYRk9giDg9Xrp7OwkkUgwMjKSOfnEOgVMJB6PWyeN58/BAwMDOSOEaeyFw2Hq6upobm62zjEUBIFkMsnw8LA1TH9QULAYqUlWIBCwhkRVVamurubTn/40mqaxcOFCNmzYwAsvvEAikcA5eSJoKBQCcpdGgiAQDAYt61gQMqeuiKLItddey8GDB6mpqeG1116z5Oi6jsvlIhAIFFxCmaRnd6Tq6mrGxsbo7+9n9+7d1pE2kDmtJBgMfuASAGcsRnrdddexbds2K4V2bGyMJ598kr6+Pvr7+2lvb0dVVSRJsobp9evX5zxEk5SGhgaWL1/O/v37CQaDeDwe9u/fz+9+9zsURWHPnj3WIVWSJDE+Ps769eupra0tuG6+9tpreeaZZzAMw9oM9+yzz5JOpzlx4gRHjhyxUn4jkQhr1qxh0aJF83KE7PmEaa1o8+e+++7jxRdfpLKyEkEQiMfjOfOY1+tFVVXC4TCbN2/m7rvvzrGiTW0URZG2tjY+//nPk0gkqKioyBlCs8sWx2IxgsEgjzzyCMuWLctZ/sDvrejvfve7PP3001RWViJJEhMTE4iiiNPpxOVyWdtsPB4P3/nOd2htbZ1i4Zc7ps2qzD5R7KmnnmL79u1Eo9GCRkpVVRUf//jH+cQnPlFwHZxtSR8+fJhHH32UY8eOWQRny3M6naxYsYK/+qu/oqWlZQq52fIEQeAnP/kJzz//PGNjY1O8Vw6Hg5aWFj772c/S2tpasG3ljlk9WebDGB8fp7e3NydH2jAMnE4njY2NeL3egh6n6TxPHR0dhMPhKR2hsrKSpUuX5lw/nVzzvVgsRldXF4qi5LQtGAzS1NQ05d4fpDTe/w/+rlx0QOHZlQAAAABJRU5ErkJggg==",
  "knowledge": {
    "readme": "## 短视频合成\n\n\n### 从本地文件合成短视频，并添加音乐",
    "course": ""
  },
  "code": "\n// 基础数据\nvar videos = {};\nlet videoObjId;\n\n// 保存变量\nlet variables = [];\n\n// 扩展\nCanvas.prototype.addVariableRect = function (obj) {\n    return this.addRect({\n        left: obj.left,\n        top: obj.top,\n        width: obj.width,\n        height: obj.height,\n        fill: 'rgba(0,255,0,0.3)',\n        lockMovementX: false,\n        lockRotation: false,\n        lockScalingX: false,\n        lockScalingY: false,\n    }, true, true);\n}\n\n\nvar store = new Store('video_create_by_shadow');\nvar storeKey = (new Date()).getTime().toString();\nvar outputVideo;\n\n// 合成预览\n// 540*960\nvar _WIDTH = Math.min(parseInt(window.innerWidth * 0.8), 240),\n    _HEIGHT = parseInt(_WIDTH * 16 / 9),\n    _SCALE = 4,\n    _OUTPUTDIR = (() => {\n        let p = localStorage.getItem('_OUTPUTDIR');\n        return !!p ? p : null;\n    })();\n\n// UI\nlet pc, info, setupInfo;\n\n// 界面\nlet audioGroup, framesGroup;\nasync function gui() {\n    //隐藏p5的画布\n    Lab.base.p5Show(false);\n    Lab.base.layout(0);\n\n    setupInfo = Lab.base.createBaseText(_OUTPUTDIR || '设置路径');\n    setupInfo.style = `width: 86%;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n    display: block;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;`;\n    let setupBtn = Lab.base.createIcon('setup', _setupFilePath, false);\n    let refreshBtn = Lab.base.createIcon(\"clear\", _newVideo, false);\n    // 设置路径、设置按钮、清空\n    let setupBtns = Lab.base.createGroup(setupInfo, setupBtn, refreshBtn);\n\n    setupBtns.layout(6);\n    //Lab.base.add(setupBtns);\n    // 合成视频\n    let createBtn = Lab.base.createIcon(\"play\", _createVideo, false);\n    info = Lab.base.createBaseText('开始合成吧！');\n    // let downloadBtn = Lab.base.createIcon('save', _downloadVideo, false);\n    let mainBtns = Lab.base.createGroup(createBtn, info);\n    mainBtns.layout(6);\n\n    let header = Lab.base.createGroup(setupBtns, mainBtns);\n    header.layout(6);\n    Lab.base.add(header);\n\n    //添加背景音乐 \n    audioGroup = Lab.base.createGroup(Lab.base.createIcon('music', () => {\n        Lab.base.toast('推荐背景音乐，待开发');\n    }, false));\n    audioGroup.layout(6);\n    Lab.base.add(audioGroup);\n\n    // 帧\n    framesGroup = Lab.base.createGroup();\n    framesGroup.style.padding = '24px';\n    framesGroup.layout(6);\n\n    //framesGroup.children = {};\n    Lab.base.add(framesGroup);\n\n    // 添加帧\n    createAddCard();\n\n    let editBtn = Lab.base.createIcon(\"square\", _newRect, false);\n    let textBtn = Lab.base.createIcon(\"comment\", _newText, false);\n    let copyBtn = Lab.base.createIcon(\"copy\", _copyRect, false);\n    let editGroup = Lab.base.createGroup(editBtn, textBtn, copyBtn);\n    editGroup.layout(6);\n    Lab.base.add(editGroup);\n\n    pc = new Canvas(_WIDTH, _HEIGHT, false, false);\n\n\n    let previewGroup = Lab.base.createGroup(pc.getElement());\n    previewGroup.layout(0);\n    Lab.base.add(previewGroup);\n\n\n\n    // 字幕生成\n    const createTextImageAndUpdate = (text, style) => {\n        let id = Lab.base.hash({ text, style });\n        console.log(videos, videoObjId)\n        if (id != videos[videoObjId].textId) {\n            videos[videoObjId] = Object.assign(videos[videoObjId], {\n                textId: id,\n                text,\n                textImage: createTextImage(text, style)\n            })\n        }\n    };\n    // 绑定事件\n    pc.onModified = (opt, json) => {\n        // 矩形变量更改\n        console.log(opt.target.type, opt.target)\n        if (opt.target.type == 'rect') {\n            let index = null;\n\n            for (let i = 0; i < variables.length; i++) {\n                if (variables[i].videoObjId === videoObjId) {\n                    index = i;\n                }\n            }\n            if (index != null) {\n                videos[videoObjId].variableRect = opt.target.getScaledBound();\n                console.log('更新变量区域', videos[videoObjId], variables[index])\n            }\n\n        }\n        // 文本修改信息\n        if (opt.target.type === 'textbox') {\n            let style = textStyleExtract(opt.target);\n            const { text } = opt.target;\n            createTextImageAndUpdate(text, style);\n        };\n        // 布局信息\n        updateData(videoObjId, json);\n        // 更新预览图\n        updatePreviewImg(videoObjId);\n    };\n\n    pc.render(true)\n};\n\nasync function createVideoPreview(url) {\n    outputVideo = await Lab.base.createVideo(url,\n        false);\n    outputVideo.style.width = _WIDTH + 'px';\n    outputVideo.style.height = _HEIGHT + 'px';\n    outputVideo.play();\n}\n\nasync function createAddCard() {\n    let addBtn = Lab.base.createIcon(\"plus\", _addVideo, false);\n    let imBtn = Lab.base.createButton(\"\", () => { }, false);\n    imBtn.appendChild(addBtn);\n    addBtn.style.width = '56px';\n    addBtn.style.borderRadius = 0;\n    addBtn.style.color = '#4a4a4a';\n    addBtn.style.background = 'rgba(255,255,255,0.1)';\n    addBtn.style.height = `${_HEIGHT * 56 / _WIDTH}px`\n    addBtn.style.margin = '2px';\n    imBtn.style = `\n    height: auto;\n    background: #eee;\n    border-radius: 8px;\n    padding: 0;`;\n    framesGroup.appendChild(imBtn);\n}\n\n\n// 添加素材\nasync function _addVideo() {\n    let labVideos = Lab.base.createShortVideoInput();\n    // console.log(labVideos)\n    if (labVideos) {\n\n        for (let labVideo of labVideos) {\n            // 帧数据\n            labVideo = await baseData(labVideo);\n\n            videos[labVideo.id] = labVideo;\n\n            if (labVideo.type === 'audio') {\n                await baseAddBackgroundAudio(labVideo);\n            } else {\n                await baseAddVideo(labVideo);\n            }\n\n            updateData(labVideo.id);\n        }\n\n    }\n\n}\n// 结果\nasync function _createVideo() {\n    if (!_OUTPUTDIR) _setupFilePath();\n    if (!_OUTPUTDIR) return\n    info.innerText = '正在合成ing';\n    let finishData = createVideoData();\n    if (finishData.frames.length > 0) {\n        Lab.base.loading(0);\n        // TODO 传入 _OUTPUTDIR 来改变导出的地址 现在还是在test下\n        let src = await Lab.video.mergeAll(finishData, (progress) => {\n            info.innerText = progress.toFixed(2);\n        });\n        await createVideoPreview(src);\n        Lab.base.loading(100);\n        // Lab.base.toast('完成' + outputVideo.src);\n        _save();\n    }\n\n}\n\nfunction _setupFilePath() {\n    // console.log('filePath')\n    let filePath = Lab.base.getFilePath(2);\n    if (filePath && filePath[0]) {\n        _OUTPUTDIR = filePath[0];\n        Lab.video.newDirname = _OUTPUTDIR;\n        setupInfo.innerText = _OUTPUTDIR;\n        localStorage.setItem('_OUTPUTDIR', _OUTPUTDIR);\n    }\n    return _OUTPUTDIR\n    // console.log(filePath)\n}\nasync function _newVideo() {\n    await store.clear();\n    Lab.base.clear();\n    gui();\n}\n\nfunction _newRect() {\n    // 暂时只支持一个变量区域\n    if (variables.filter(v => v.videoObjId === videoObjId).length > 0) return\n    let rect = pc.addVariableRect({\n        left: 0,\n        top: 0,\n        width: _WIDTH,\n        height: _WIDTH\n    });\n\n    videos[videoObjId].variableRect = rect.getScaledBound();\n\n    // console.log(rect);\n    _addVariableRect2UI(videoObjId);\n\n}\n\nfunction _addVariableRect2UI(videoObjId) {\n    variables.push({\n        videoObjId: videoObjId\n    });\n    let rectInfo = Lab.base.createBaseText('素材');\n    let rectBtn = Lab.base.createIcon('plus', async () => {\n        videos[videoObjId].variableElements = await Lab.base.createShortVideoInput();\n        if (videos[videoObjId].variableElements) {\n            rectInfo.innerText = `素材${videos[videoObjId].variableElements.length}`;\n        }\n    });\n\n    let g = Lab.base.createGroup(rectBtn, rectInfo);\n    g.layout(6);\n    Lab.base.add(g);\n}\n\n// 复制当前的变量区域 到全部\nfunction _copyRect() {\n    if (!videos[videoObjId].variableRect) return\n    let v = JSON.parse(JSON.stringify(videos[videoObjId].variableRect));\n    // variables.push({rect:variables[0].rect,videoObjId:'a555a9c614d00029c2b0ac20063bcf33bbfb67cf'})\n    for (var id in videos) {\n        if (!videos[id].variableRect) {\n            variables.push({ videoObjId: id });\n            _addVariableRect2UI(id);\n        };\n        videos[id].variableRect = v;\n    };\n};\n\n// 添加字幕\nfunction _newText() {\n    pc.addText('TEXT', getTextStyle());\n};\n\n// 关键帧数据\nconst createFrameData = (labVideo) => {\n    let { index, url, type, layout, createTime, id, text, textImage } = labVideo;\n    if (!((index != null || index != undefined) && typeof index === 'number')) index = Object.keys(videos).length;\n    let obj = {\n        index,\n        type,\n        url,\n        text,\n        textImage,\n        layout,\n        createTime: createTime || (new Date()).getTime()\n    };\n    if (!id) {\n        obj.id = Lab.base.hash(obj)\n    } else {\n        obj.id = id;\n    };\n\n    return obj;\n};\n\nconst createTextImage = (text, style) => {\n    let tc = new Canvas(_WIDTH, _HEIGHT, true, false);\n    tc.addText(text, style, false, false);\n    // console.log(style)\n    //TODO  调试\n    // document.body.appendChild(tc.getElement())\n    return tc.toDataURL(_SCALE);\n};\n\n// 计算字幕的停留时间\nconst getTextLoop = text => {\n    text = text || '';\n    return Math.max(parseInt(text.length / 2.5), 5)\n}\n\n// 取布局数据\nconst getLayout = (obj) => {\n    let { top, left, width, height, scaleX, scaleY, angle } = obj;\n    scaleX = scaleX || 1;\n    scaleY = scaleY || 1;\n    return {\n        angle: angle || 0,\n        top: parseInt(top * _SCALE),\n        left: parseInt(left * _SCALE),\n        width: Math.min(parseInt(width * _SCALE * scaleX), _WIDTH * _SCALE),\n        height: Math.min(parseInt(height * _SCALE * scaleY), _HEIGHT * _SCALE)\n    }\n};\n\n\n// 文本的样式\nconst textStyleExtract = obj => {\n    let res;\n    if (obj) {\n        const { top,\n            left,\n            width,\n            height,\n            fill,\n            fontSize,\n            charSpacing,\n            fontFamily,\n            angle,\n            scaleX,\n            scaleY\n        } = obj;\n        res = {\n            top,\n            left,\n            width,\n            height,\n            fill,\n            fontSize,\n            charSpacing: charSpacing || 0,\n            fontFamily,\n            angle: angle || 0,\n            scaleX: scaleX || 1,\n            scaleY: scaleY || 1\n        }\n    } else {\n        res = {\n            top: parseInt(_HEIGHT * 0.1),\n            left: 0,\n            width: _WIDTH,\n            fontSize: parseInt(_HEIGHT * 0.05),\n            fill: \"white\",\n            fontFamily: 'monospace'\n        }\n    }\n    return res\n\n}\n\n// 内容样式\n// 计算居中\nconst contentStyleExtract = (obj, element) => {\n    let res;\n    if (obj) {\n        // width,height是元素真实的尺寸，通过scale来缩放成最终的高宽\n        const { left, top, width, height, angle, scaleX, scaleY } = obj;\n        // console.log(width, height, scaleX, scaleY)\n        res = {\n            left, top,\n            width, height,\n            scaleX: scaleX || 1, scaleY: scaleY || 1,\n            angle: angle || 0\n        }\n    } else {\n        let width = element.width, height = element.height;\n        let scale = _WIDTH / element.width;\n        if (width < _WIDTH) {\n            scale = element.width / _WIDTH;\n        };\n\n        scale = parseFloat(scale.toFixed(2));\n\n        res = {\n            left: parseInt((_WIDTH - width * scale) / 2),\n            top: parseInt((_HEIGHT - height * scale) / 2),\n            width, height,\n            scaleX: scale, scaleY: scale,\n            angle: 0\n        }\n        // console.log(res)\n    }\n    return res\n}\n\nconst getContentStyle = (layout, element) => {\n    let target = layout ? layout.filter(f => f.type === 'image')[0] : null;\n    let res = contentStyleExtract(target, element);\n    // console.log(res)\n    return res\n};\n\nconst getTextStyle = (layout) => {\n    let target = layout ? layout.filter(f => f.type === 'textbox')[0] : null;\n    let res = textStyleExtract(target);\n    return res\n}\n\n// 准备绘制 字幕的数据\nconst getTextAndStyle = labVideo => {\n    // 文字输入\n    let style = getTextStyle(labVideo.layout),\n        text = null;\n    // console.log(textStyle)\n    if (labVideo.text) {\n        text = labVideo.text;\n    };\n    return {\n        element: text,\n        style\n    }\n}\n// 准备绘制 内容的数据\nconst getContentAndStyle = async labVideo => {\n    // 元素\n    let element;\n    if (labVideo.type == \"video\") {\n        element = await Lab.base.createVideo(labVideo.url, false);\n\n    } else if (labVideo.type == \"img\") {\n        element = await Lab.base.createImage(labVideo.url);\n    } else if (labVideo.type == \"gif\") {\n        // let frames = await pc.buildSprite(labVideo.url,pc.canvas);\n        // console.log(frames)\n        if (!labVideo.videoUrl) {\n            let videoUrl = await Lab.video.gif2video(labVideo.url);\n            // console.log(videoUrl)\n            labVideo.videoUrl = videoUrl;\n        };\n\n        element = await Lab.base.createVideo(labVideo.videoUrl, false);\n\n    }\n    // 样式\n    let style = getContentStyle(labVideo.layout, element);\n    return {\n        element,\n        style\n    }\n}\n\nasync function createPreviewImg(id) {\n    let base64 = pc.toDataURL(1);\n\n    //创建图片\n    let im = await Lab.base.createImage(base64);\n    im.style.width = '56px';\n    im.style.margin = '2px';\n    im.id = id;\n    let imBtn = Lab.base.createButton(\"\", async () => {\n        videoObjId = id;\n        await baseAddVideo(videos[id], false);\n        updateData(id);\n    }, false);\n    imBtn.appendChild(im);\n    imBtn.style = `\n    height: auto;\n    background: #eee;\n    border-radius: 8px;\n    padding: 0;`;\n    framesGroup.appendChild(imBtn);\n    framesGroup.children[id] = im;\n    videos[id].preview = im.src;\n}\n\nfunction updatePreviewImg(id) {\n    let base64 = pc.toDataURL(1);\n    //更新图片\n    if (framesGroup.children[id]) framesGroup.children[id].src = base64;\n    videos[id].preview = base64;\n}\n\n\n\nfunction createVideoData() {\n    // 背景音乐\n    let backgroudAudio = null;\n    let _videos = videos2array();\n    var videosNew = Array.from(_videos, v => {\n        if (v && v.url) {\n            let index = v.index;\n            let textImage = null;\n            let content = null;\n            // console.log(v)\n            if(v.type==='gif'){\n                v.type='video';\n                v.url=v.videoUrl;\n            };\n            if (v.type === 'audio') {\n                backgroudAudio = v;\n            } else {\n                Array.from(v.layout || [], l => {\n                    // console.log(l)\n                    if (l.type == 'textbox') {\n                        textImage = {\n                            text: v.text,\n                            base64: v.textImage,\n                            loop: getTextLoop(v.text),\n                            layout: getLayout(l)\n                        };\n                        if (!v.text) textImage = null;\n                    } else if (l.type == 'image') {\n                        content = {\n                            type: v.type,\n                            url: v.url,\n                            // loop: 5,\n                            layout: getLayout(l)\n                        };\n                    };\n\n                });\n            }\n            return (content || textImage) ? {\n                index,\n                content,\n                textImage\n            } : null\n        }\n    }).filter(f => f);\n    let finishData = {\n        width: _WIDTH * _SCALE,\n        height: _HEIGHT * _SCALE,\n        // 按照index升序\n        frames: videosNew.sort((a, b) => a.index - b.index),\n        backgroudAudio: backgroudAudio\n    };\n    // console.log(finishData)\n    return finishData\n}\n\n// 更新布局layout\nconst updateLayout = json => {\n    return Array.from(json.objects, o => {\n        // console.log(o)\n        let no = { left: o.left, top: o.top, width: o.width, height: o.height, type: o.type };\n        if (o.type == 'textbox') {\n            no = Object.assign(no, textStyleExtract(o))\n        } else if (o.type == 'image') {\n            no = Object.assign(no, contentStyleExtract(o))\n        }\n        return no\n    });\n};\n\nasync function baseData(labVideo) {\n    // 帧数据\n    let videoObj = createFrameData(labVideo);\n    labVideo.type !== 'audio' ? videoObjId = videoObj.id : null;\n    // 去重？?\n    // if (Array.from(videos, v => v.id).includes(videoObj.id)) return console.log(labVideo);\n    if (labVideo.type == 'audio') {\n        //背景音乐\n        let element = await Lab.base.createaAudio(labVideo.url, false);\n        videoObj = Object.assign(videoObj, {\n            duration: element.duration,\n            startTime: 0,\n            loop: 5\n        })\n    };\n    return videoObj\n}\n\nfunction updateData(id, json) {\n    // console.log('更新数据',videos[id],json)\n    // console.log(updateLayout(json))\n    videos[id] = Object.assign(videos[id], {\n        layout: updateLayout(json || pc.exportJSON())\n    })\n    _save();\n}\n\nasync function baseAddBackgroundAudio(labVideo) {\n    if (audioGroup.querySelector('audio')) audioGroup.querySelector('audio').remove();\n    audioGroup.appendChild(await Lab.base.createaAudio(labVideo.url, false));\n}\n\n\nasync function baseAddVideo(labVideo, isNew = true) {\n    // console.log(labVideo)\n    //  console.log(labVideo.preview)\n    // _addVariableRect2UI(rect, videoObjId);\n    let variableRect;\n\n    if (labVideo) {\n\n        //添加到画布 \n        pc.reset();\n        // 背景\n        pc.addRect({\n            width: _WIDTH,\n            height: _HEIGHT,\n            fill: 'black',\n            stroke: 'black'\n        }, false);\n\n        // 内容 把type==gif的转化为video\n        let { element, style } = await getContentAndStyle(labVideo);\n        // console.log(labVideo)\n        if (labVideo.type == \"video\" || labVideo.type == \"gif\") {\n            pc.addVideo(element,\n                Object.assign(style, {\n                    objectCaching: false,\n                    lockMovementX: false,\n                    lockRotation: false,\n                    lockScalingX: false,\n                    lockScalingY: false,\n                }), true, false);\n        } else if (labVideo.type == \"img\") {\n            pc.addImg(element, style);\n        };\n\n        // 字幕\n        let { element: text, style: ts } = getTextAndStyle(labVideo);\n        if (text) pc.addText(text, ts);\n\n        // 变量区域\n        if (labVideo.variableRect) {\n            // console.log(variableRect)\n            variableRect = pc.addRect({\n                left: labVideo.variableRect.left,\n                top: labVideo.variableRect.top,\n                width: labVideo.variableRect.width,\n                height: labVideo.variableRect.height,\n                fill: 'rgba(0,255,0,0.3)',\n                lockMovementX: false,\n                lockRotation: false,\n                lockScalingX: false,\n                lockScalingY: false,\n            }, true, true);\n        }\n\n        //最后\n        // 创建预览图片\n        await sleep(() => (isNew === true) ? createPreviewImg(labVideo.id) : updatePreviewImg(labVideo.id), 200);\n\n    };\n\n    return variableRect;\n};\n\nfunction sleep(fn, t = 500) {\n    return new Promise((resolve, reject) => {\n        setTimeout(() => {\n            if (fn) fn();\n            resolve();\n        }, t);\n    });\n}\n\n// 缓存\nstore.getValues().then(async vs => {\n    // console.log(vs)\n    await store.clear();\n    if (vs[0]) {\n        _WIDTH = vs[0].width;\n        _HEIGHT = vs[0].height;\n        _SCALE = vs[0].scale;\n        if (outputVideo && outputVideo.src) (outputVideo.src = vs[0].outputVideo) && outputVideo.play();\n        let ds = (vs[0].videos || []);\n        ds = ds.sort((a, b) => a.index - b.index);\n        for (let i = 0; i < ds.length; i++) {\n            videos[ds[i].id] = ds[i];\n            let variableRect;\n            if (ds[i].type === 'audio') {\n                await baseAddBackgroundAudio(ds[i]);\n            } else {\n                variableRect = await baseAddVideo(ds[i]);\n            };\n\n            videoObjId = ds[i].id;\n            // 变量\n            if (variableRect) _addVariableRect2UI(videoObjId);\n\n        };\n        _save();\n    }\n});\n// videos object转array\nfunction videos2array() {\n    let vs = [];\n    for (let id in videos) {\n        vs.push(videos[id])\n    };\n    vs = vs.sort((a, b) => a.index - b.index);\n    return vs;\n}\n// 保存\nfunction _save() {\n    let vs = videos2array();\n    store.set(storeKey, {\n        videos: vs,\n        width: _WIDTH,\n        height: _HEIGHT,\n        scale: _SCALE,\n        outputVideo: outputVideo && outputVideo.src && outputVideo.src.match('.mp4') ? outputVideo.src : null\n    });\n}\n\n",
  "code_length": 166,
  "size": [
    466,
    778
  ],
  "extname": "designlabplugin",
  "version": "0.1.1",
  "package_id": "12b5d2dc1df96ad4dea902adedffd0c31713d2cc",
  "create_time": 1616334968344
}