{
  "poster": "data:image/png;base64,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",
  "knowledge": {
    "readme": "## 短视频合成\n\n\n### 从本地文件合成短视频，并添加音乐",
    "course": ""
  },
  "code": "//Hello AI world!\nvar videos = [];\nvar store = new Store('video_create_by_shadow');\nvar storeKey = (new Date()).getTime().toString();\n\n\n// \nfunction gui() {\n  //隐藏p5的画布\n  Lab.base.p5Show(false);\n  Lab.base.layout(1);\n\n  let addBtn = Lab.base.createIcon(\"plus\", addVideo, false);\n  let createBtn = Lab.base.createIcon(\"play\", createVideo, false);\n  let menuBtn = Lab.base.createGroup(addBtn, createBtn);\n  Lab.base.add(menuBtn);\n\n};\n\n// 添加素材\nasync function addVideo() {\n  let labVideo = Lab.video.createShortVideoInput();\n  await baseAddVideo(labVideo);\n}\n\n//\nfunction createVideo() {\n  var videosNew = Array.from(videos, v => {\n    if (v && v.url) {\n      return {\n        url: v.url,\n        text: v.text,\n        type: v.type,\n        textImage: Lab.base.createTextCanvas(v.text, 120, \"red\")\n      }\n    }\n  }).filter(f => f);\n  //alert(JSON.stringify(videos,null,2))\n}\n\nasync function baseAddVideo(labVideo) {\n  console.log(labVideo)\n  if (labVideo) {\n    // 帧数据\n    let videoObj = {\n      url: labVideo.url,\n      type: labVideo.type,\n      createTime: labVideo.createTime || (new Date()).getTime()\n    };\n    // id\n    videoObj.id = Lab.base.hash(videoObj);\n\n    if (Array.from(videos, v => v.id).includes(videoObj.id)) return;\n\n    videos.push(videoObj);\n    store.set(storeKey, videos);\n\n    let element, input;\n    if (labVideo.type == \"video\") {\n      element = Lab.base.createVideo(labVideo.url, false);\n\n    } else if (labVideo.type == \"img\") {\n      //创建图片\n      element = await Lab.base.createImage(labVideo.url);\n    } else if (labVideo.type == \"audio\") {\n      element = Lab.base.createaAudio(labVideo.url, false);\n    };\n\n    input = Lab.base.createInput('text', '字幕', inputText, false, false);\n    if (labVideo.text) {\n      input.querySelector('input').value = labVideo.text;\n    };\n    if (labVideo.type == \"audio\") {\n      input.querySelector('input').value = \"背景音乐\";\n      inputText(\"背景音乐\");\n    };\n\n    let textCanvas = Lab.base.createTextCanvas(\"TEXT\", 120, \"red\", 300, false);\n\n    let vg = Lab.base.createGroup(element, input, textCanvas);\n    Lab.base.add(vg);\n    vg.style.padding = '24px';\n\n    // 合成文本图片\n    function inputText(text) {\n      videoObj.text = text;\n      store.set(storeKey, videos);\n    };\n\n  };\n};\n\n// 缓存\nstore.getValues().then(async vs => {\n  await store.clear();\n  // console.log(vs[0]);\n  (vs[0] || []).forEach(v => baseAddVideo(v));\n});\n\n// function setup() {\n\n//   createCanvas(windowWidth, windowHeight);\n\n//   var add = createButton(\"添加素材\");\n//   add.position(240, 20);\n//   add.mousePressed(addEvent);\n\n//   function addEvent() {\n//     index++;\n//     createVideoInput(index, 10, 50 + 150 * (index - 1), \"上传\");\n//   }\n//   var button2 = createButton(\"合成\");\n//   button2.position(320, 20);\n//   button2.mousePressed(buttonEvent2);\n//   function buttonEvent2() {\n//     //alert(JSON.stringify(videos,null,2))\n//     var videosNew = Array.from(videos, v => {\n//       if (v && v.url) {\n//         return {\n//           url: v.url,\n//           text: v.text,\n//           type: v.type,\n//           textImage: Lab.base.createTextImage(v.text, 120, \"red\")\n//         }\n//       }\n//     }).filter(f => f);\n//     //alert(JSON.stringify(videos,null,2))\n//     Lab.video.createShortVideoFromLocal(videosNew).then(() => alert('完成'));\n//   }\n\n// };\n\nfunction createVideoInput(index, x, y, displayText) {\n  let id = Lab.base.md5(index + \"\" + (new Date()).getTime());\n  videos[index] = {\n    id: id,\n    url: null,\n    text: null,\n    type: null,\n    element: []\n  };\n  // 按钮\n  let button = createButton(displayText);\n  button.position(x, y);\n  button.mousePressed(buttonEvent);\n  button.id = id;\n  videos[index].element.push(button);\n\n  function buttonEvent() {\n    let targetIndex = 0;\n    Array.from(videos, (v, i) => {\n      // console.log(v)\n      if (v && v.id === button.id) targetIndex = i;\n    });\n\n    if (button.html() == displayText) {\n\n      var labVideo = Lab.video.createShortVideoInput();\n\n      if (labVideo) {\n        videos[targetIndex].url = labVideo.url;\n        videos[targetIndex].type = labVideo.type;\n\n        let vid;\n\n        if (labVideo.type == \"video\") {\n\n          vid = createVideo(labVideo.url, vidLoad);\n          vid.size(100, 100);\n          vid.position(x + 100, y);\n          videos[targetIndex].element.push(vid);\n          function vidLoad() {\n            vid.loop();\n            //vid.pause();\n            vid.volume(0.8);\n          }\n        } else if (labVideo.type == \"img\") {\n          vid = createVideo(labVideo.url);\n          vid.size(100, 100);\n          vid.position(x + 100, y);\n          vid.attribute('poster', labVideo.url);\n          videos[targetIndex].element.push(vid);\n        } else if (labVideo.type == \"audio\") {\n\n          vid = createAudio(labVideo.url);\n          //ele.autoplay(false);\n          var abtn = createButton(\"音频-点击播放\");\n          abtn.position(x + 100, y + 50);\n          abtn.mousePressed(buttonEvent3);\n          videos[targetIndex].element.push(vid);\n          videos[targetIndex].element.push(abtn);\n          function buttonEvent3() {\n            //\n            vid.play(true);\n          }\n        };\n\n\n        // 文本\n        if (labVideo.type != \"audio\") {\n          let inp = createInput('');\n          inp.input(myInputEvent);\n          inp.position(x, y + 120);\n          videos[targetIndex].element.push(inp);\n          function myInputEvent() {\n            videos[targetIndex].text = (this.value()).trim();\n          }\n        };\n        button.html('删除');\n\n      };\n\n    } else {\n      // 删除\n      //console.log(videos[targetIndex].element)\n      Array.from(videos[targetIndex].element, e => e.remove());\n      // delete videos[targetIndex];\n      videos[targetIndex].remove = true;\n    };\n\n    videos = videos.filter(f => f);\n    index = videos.length;\n    console.log(videos.length, index)\n  }\n}",
  "code_length": 36,
  "size": [
    365,
    660
  ],
  "extname": "designlabplugin",
  "version": "0.1.0",
  "package_id": "06241f709c5ea14f71e2c1f43d1915ca08613e3a",
  "create_time": 1613914867889
}