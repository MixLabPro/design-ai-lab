{
  "poster": "data:image/png;base64,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",
  "knowledge": {
    "readme": "## 组合关系评分\n\n### 研究布局",
    "course": "\n\n- 自动监听剪切板，收集图片\n- 轮廓比较，结果越低，匹配越好\n\n"
  },
  "code": "// 画布大小\nlet _WIDTH = 240, _HEIGHT = 240;\n\n// 提示信息\nlet info, canvas, layout, imagesClass, classImages;\n\n// 所有图片\nvar imagesDict = {};\n\n// 存储图片特征\nvar features = [];\n\n// 图像数量\nvar index = -1;\n\n// 布局\nvar layoutStore = new Store('layout-data-test');\n\n// 分类模型\nvar dataset = new Store('dataset-layout-test');\nvar knnModel = Lab.ai.knnClassifier();\nknnModel.topk = 5;\nvar imgModel = new Lab.ai.Mobilenet();\nPromise.all([\n    knnModel.loadFromStore('test'),\n    imgModel.init()\n]).then(() => {\n    // knnModel.minDataset();\n    info.innerText = '开始使用';\n});\n\nfunction gui() {\n\n    //隐藏p5的画布\n    Lab.base.p5Show(false);\n    Lab.base.layout(0);\n    Lab.base.loading(0);\n\n    canvas = new Canvas(_WIDTH, _HEIGHT);\n    canvas.dblclick = opt => {\n        canvas.moveToTop(opt.target);\n    };\n\n    info = Lab.base.createBaseText('加载ing');\n\n    //打标\n    let good = Lab.base.createButton('正样本', () => {\n        let gt = new Store('good');\n        let data = {\n            img1: features[0].img.src,\n            img2: features[1].img.src,\n            img3: canvas.toDataURL(1)\n        }\n        gt.set(Lab.base.hash(data), data);\n    }, false);\n    let bad = Lab.base.createButton('负样本', () => {\n        let bt = new Store('bad');\n        let data = {\n            img1: features[0].img.src,\n            img2: features[1].img.src,\n            img3: canvas.toDataURL(1)\n        }\n        bt.set(Lab.base.hash(data), data);\n    }, false);\n    good.style.fontSize = '12px';\n    bad.style.fontSize = '12px';\n\n    let infoAndTag = Lab.base.createGroup(info, good, bad);\n    let datasetInfo = async () => {\n        info.innerText = `类别 ${index} ,共 ${Object.values(imagesDict).filter(f => f.index === index).length}`;\n    };\n    // 下一张组合\n    //创建图标\n    let refresh = Lab.base.createIcon('refresh', async () => {\n        if (!layout) {\n            layout = Array.from(canvas.getObjects(), o => {\n                const { left, top, width, height } = o.getBoundingRect();\n                return {\n                    left: left,\n                    top: top,\n                    width, height\n                }\n            });\n            layoutStore.set(Lab.base.hash(layout), layout);\n        };\n        canvas.reset();\n        await create();\n\n    }, false);\n\n    let addRectBtn = Lab.base.createIcon('plus', async () => {\n        if (layout) {\n            layout = null;\n            canvas.reset();\n            features = [];\n            index = 0;\n        } else {\n            index++;\n        };\n        let opacity = 0.1 * (canvas.getObjects().length + 1);\n        canvas.addRect({\n            width: 100,\n            height: 100,\n            fill: `rgba(255,0,0,${opacity})`,\n            lockMovementX: false,\n            lockScalingX: false,\n            lockScalingY: false,\n        }, true, true, false);\n        await datasetInfo();\n    }, false);\n\n    refresh.style.width = '50%';\n    \n    // 排序\n    function sortImageClass(data=[]){\n        // console.log(classImages)\n        Array.from(data, c => {\n            let imgBtn = Lab.base.createButton('', () => {\n                // console.log(c, classImages)\n                let targetShape = c.shapeFeature;\n                data = Array.from(data, t => {\n                    var tShape = t.shapeFeature;\n                    let score = Lab.ai.shape.matchShape(targetShape, tShape);\n                    return Object.assign(t,{score});\n                });\n                data=data.sort((a,b)=>a.score-b.score);\n                // console.log(classImages)\n                imagesClass.innerHTML='';\n                sortImageClass(data);\n            }, false);\n            imgBtn.style.height = 'auto';\n            imgBtn.appendChild(c.img);\n            imagesClass.appendChild(imgBtn);\n        });\n    }\n    let test = Lab.base.createIcon('light', async () => {\n        let data = getClassOne(index);\n        imagesClass.innerHTML='';\n        sortImageClass(data);\n    }, false);\n\n    let mainGroup = Lab.base.createGroup(\n        canvas.getElement(), infoAndTag,\n        Lab.base.createGroup(refresh, addRectBtn), test\n    );\n    mainGroup.layout('g37');\n    mainGroup.style.width = '80%';\n    Lab.base.add(\n        mainGroup\n    );\n\n    imagesClass = Lab.base.createGroup();\n    imagesClass.layout(1);\n    Lab.base.add(imagesClass);\n\n    // 清空图片\n    let clear = Lab.base.createIcon('clear', () => {\n        // 清空缓存\n        Lab.base.clipboard.clearStore('img');\n        layoutStore.clear();\n        dataset.clear();\n\n        for (let id in imagesDict) {\n            imagesDict[id].img.remove();\n        };\n        imagesDict = {};\n        info.innerText = '已清空';\n        canvas.reset();\n        layout = null;\n        index = -1;\n\n    }, false);\n    // 训练\n    let train = Lab.base.createIcon('play', async () => {\n        train.setAttribute('disabled', true);\n\n        let data = await new Store('good').getValues();\n        for (let d of data) {\n            let img = await Lab.base.createImage(d.img3);\n            let tensor = await feature(img);\n            knnModel.add(tensor, 'good');\n        }\n        data = await new Store('bad').getValues();\n        for (let d of data) {\n            let img = await Lab.base.createImage(d.img3);\n            let tensor = await feature(img);\n            knnModel.add(tensor, 'bad');\n        };\n        train.removeAttribute('disabled');\n        knnModel.save('test');\n        alert('完成训练');\n    }, false);\n\n    let btns = Lab.base.createGroup(train, clear);\n    train.style.width = '56px';\n    clear.style.width = '56px';\n    btns.layout(0);\n    Lab.base.add(btns);\n\n\n    // 监听剪切板\n    Lab.base.clipboard.listener('img', async (base64, id) => {\n\n        // // 轮廓提取\n        // imgProcess()\n        // 特征提取\n        let im = await Lab.base.createImage(base64);\n        let shapeFeature = imgProcess(im);\n        let imgFeature = (await feature(im.img)).arraySync();\n        let imo = {\n            id,\n            index,\n            shapeFeature,\n            imgFeature\n        }\n        dataset.set(id, imo);\n\n        imo.base64 = base64;\n        //创建图片\n        await addImg(imo);\n\n        await datasetInfo();\n    });\n\n    // 获取缓存\n    Lab.base.clipboard.getAllStore('img').then(async json => {\n        let datasetIds = await dataset.getJson();\n        layout = (await layoutStore.getValues()).filter(f => f && f.length > 0)[0];\n        // await dataset.clear();\n        // console.log(datasetIds)\n\n        let imgs = [];\n        // let count = 5;\n\n        for (let id in json) {\n            // if (count < 0) return loadImageByBatch(imgs, imgs.length);\n            // count--;\n\n            let base64 = json[id];\n\n            if (datasetIds.hasOwnProperty(id)) {\n                // console.log(datasetIds[id])\n                imgs.push({\n                    base64,\n                    index: datasetIds[id].index,\n                    shapeFeature: datasetIds[id].shapeFeature,\n                    imgFeature: datasetIds[id].imgFeature,\n                    id: id\n                });\n\n            };\n\n        };\n\n        loadImageByBatch(imgs, imgs.length);\n\n    });\n\n    // 分批加载\n    function loadImageByBatch(imgs = [], sum = 1) {\n\n        let bs = Array.from(new Array(8), i => imgs.pop()).filter(f => f);\n        // console.log(bs,sum)\n        Promise.all(\n            Array.from(bs, im => addImg(im))\n        ).then(() => {\n\n            if (imgs.length <= 0) {\n                Lab.base.loading(100);\n                info.innerText = `${Object.keys(imagesDict).length}张图`;\n            } else {\n                info.innerText = `${parseInt(100 * Object.keys(imagesDict).length / sum)}%`;\n                setTimeout(() => {\n                    loadImageByBatch(imgs, sum);\n                }, 1000 + Math.random() * 10)\n            }\n\n        });\n\n    }\n\n    // 图片 预处理\n    async function addImg(im) {\n        // let id = Lab.base.md5(url);\n        let id = im.id;\n        if (imagesDict[id] && imagesDict[id].index != null && imagesDict[id].index != -1) return;\n        let img = await Lab.base.createImage(im.base64);\n        img.style.width = \"88px\";\n        img.style.margin = \"8px\";\n        img.id = id;\n        // let cannyImg = await imgProcess(img);\n        // let { thresholdImg, res } = await threshold(img, 100, 100);\n        // let g = Lab.base.createGroup(img, cannyImg, thresholdImg);\n        imagesDict[id] = {\n            index: im.index,\n            img,\n            shapeFeature: im.shapeFeature,\n            imgFeature: im.imgFeature\n        };\n    }\n\n    // 合图\n    async function create() {\n        // var objects = canvas.exportJSON().objects;\n        if (layout) {\n            layout.forEach((t, i) => {\n                let im = randomOne(i);\n                if (im) canvas.addAndResizeImage(im.img, t);\n            });\n            // 合图后\n            let im = await Lab.base.createImage(canvas.toDataURL(1));\n            let score = await knnModel.predict(\n                await feature(im)\n            );\n            // let { res } = await threshold(im, 100, 100);\n            if (score && score.confidences) info.innerText = `评分:${score.confidences.good}`;\n        }\n    }\n}\n\n// 尝试下打标，把构图比较好的轮廓作为参考，比较轮廓\n// 抽取特征\nasync function feature(img) {\n    //img = await imgProcess(img);\n    let tensor = imgModel.infer(img);\n    return tensor\n}\n\nfunction imgProcess(img) {\n    // 轮廓提取\n    return Lab.ai.shape.findContoursForImg(img);\n}\n\n// // 边缘检测\n// async function imgProcess(img) {\n//     //创建画布\n//     let canvas = Lab.base.createCanvas(img.naturalWidth, img.naturalHeight, 'myCanvas', '', false);\n//     let src = cv.imread(img);\n\n//     // 缩放为100x100方形\n//     let rdst = new cv.Mat();\n//     let dsize = new cv.Size(100, 100);\n//     // You can try more different parameters\n//     cv.resize(src, rdst, dsize, 0, 0, cv.INTER_AREA);\n\n//     let dst = new cv.Mat();\n//     cv.cvtColor(rdst, rdst, cv.COLOR_RGB2GRAY, 0);\n//     // You can try more different parameters\n//     cv.Canny(rdst, dst, 50, 100, 3, false);\n\n//     cv.imshow(canvas, dst);\n\n//     let url = canvas.toDataURL();\n//     let cannyImg = await Lab.base.createImage(url);\n//     //img.insertAdjacentElement('afterend',cannyImg);\n//     // console.log(cannyImg);\n//     src.delete();\n//     rdst.delete();\n//     dst.delete();\n//     canvas.remove();\n//     return cannyImg;\n// }\n\n// // 阈值分割\n// async function threshold(img, w, h) {\n//     //创建画布\n//     let canvas = Lab.base.createCanvas(img.naturalWidth, img.naturalHeight, 'myCanvas', '', false);\n//     let src = cv.imread(img);\n//     cv.cvtColor(src, src, cv.COLOR_RGBA2GRAY, 0);\n\n//     // 缩放为100x100方形\n//     let rdst = new cv.Mat();\n//     let dsize = new cv.Size(w, h);\n//     // You can try more different parameters\n//     cv.resize(src, rdst, dsize, 0, 0, cv.INTER_AREA);\n\n//     let dst = new cv.Mat();\n//     // You can try more different parameters\n//     cv.threshold(rdst, dst, 10, 100, cv.THRESH_BINARY);\n//     cv.imshow(canvas, dst);\n\n//     let url = canvas.toDataURL();\n//     let thresholdImg = await Lab.base.createImage(url);\n\n//     // console.log(area(dst))\n//     let res = area(dst);\n//     // res=res/(w*h);\n\n//     rdst.delete();\n//     src.delete();\n//     canvas.remove();\n//     //dst.delete();\n//     return { thresholdImg, res: res };\n// }\n\n// // 轮廓\n// function area(src) {\n//     let values = [];\n//     let contours = new cv.MatVector();\n//     let hierarchy = new cv.Mat();\n//     cv.findContours(src, contours, hierarchy, cv.RETR_CCOMP, cv.CHAIN_APPROX_SIMPLE);\n\n//     for (let i = 0; i < contours.size(); i++) {\n//         let cnt = contours.get(i);\n//         let area = cv.contourArea(cnt, false);\n//         values.push({\n//             area: area,\n//             cnt: cnt\n//         });\n//     };\n//     values = values.sort((b, a) => a.area - b.area)\n//     src.delete();\n//     contours.delete();\n//     hierarchy.delete();\n//     return values[0]\n// }\n\n// //  比较两个轮廓\n// function compare(cnt1, cnt2) {\n//     let result = cv.matchShapes(cnt1, cnt2, 1, 0);\n//     return result;\n// }\n\n\nfunction getClassOne(i) {\n    let imgs = [];\n    for (let id in imagesDict) {\n        let img = imagesDict[id];\n        if (img.index === i) {\n            img.shapeFeature = Lab.ai.shape.contoursLoad(img.shapeFeature);\n            imgs.push(img);\n        };\n    };\n    return imgs\n}\n\nfunction randomOne(i) {\n    let imgs = getClassOne(i);\n    return imgs[parseInt(Math.random() * imgs.length)];\n}",
  "code_length": 75,
  "size": [
    410,
    675
  ],
  "extname": "designlabplugin",
  "version": "0.1.1",
  "package_id": "7c793a2ffddad36ae672161f214f3623195978b7",
  "create_time": 1614330665172
}